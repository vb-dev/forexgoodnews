import{r as Za,a as X,d as Ye,u as Sa,t as ja,o as He,n as Qe,b as ut,w as ta,c as j,e as A,f as V,g as la,h as ze,i as Me,j as ge,k as ue,l as Be,m as Je,p as s,q as Le,s as Gt,v as Ae,T as La,x as U,y as st,z as Fl,A as ke,B as fe,F as _e,C as aa,D as Ka,E as Ve,G as Vl,H as Xt,I as va,J as zl,K as lt,L as nt,M as Hl,N as jl,O as Kl}from"./@vue-BZHLPjBo.js";import{g as me,a as be,b as Ul,e as dl,d as ql,f as sa,s as xe,c as Jl,i as Ua,h as Ca,j as Oa,k as rt,l as Zl,m as pa,n as _a,o as Na,p as ua,q as ot,r as cl,t as xa,u as Lt,v as vl,w as Wt,x as Gl,y as pl,z as Xl,A as Qt,B as Nt,C as qa,D as el,E as Wl,F as Ql,G as ml,H as yl,I as en,J as an,K as tn,L as $a,M as ln,N as fl,O as hl,P as nn,Q as rn}from"./date-fns-C7_rVUPb.js";function Ya(){return A(),V("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[fe("path",{d:"M29.333 8c0-2.208-1.792-4-4-4h-18.667c-2.208 0-4 1.792-4 4v18.667c0 2.208 1.792 4 4 4h18.667c2.208 0 4-1.792 4-4v-18.667zM26.667 8v18.667c0 0.736-0.597 1.333-1.333 1.333 0 0-18.667 0-18.667 0-0.736 0-1.333-0.597-1.333-1.333 0 0 0-18.667 0-18.667 0-0.736 0.597-1.333 1.333-1.333 0 0 18.667 0 18.667 0 0.736 0 1.333 0.597 1.333 1.333z"}),fe("path",{d:"M20 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),fe("path",{d:"M9.333 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),fe("path",{d:"M4 14.667h24c0.736 0 1.333-0.597 1.333-1.333s-0.597-1.333-1.333-1.333h-24c-0.736 0-1.333 0.597-1.333 1.333s0.597 1.333 1.333 1.333z"})])}Ya.compatConfig={MODE:3};function gl(){return A(),V("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[fe("path",{d:"M23.057 7.057l-16 16c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l16-16c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0z"}),fe("path",{d:"M7.057 8.943l16 16c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885l-16-16c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}gl.compatConfig={MODE:3};function Yt(){return A(),V("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[fe("path",{d:"M20.943 23.057l-7.057-7.057c0 0 7.057-7.057 7.057-7.057 0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-8 8c-0.521 0.521-0.521 1.365 0 1.885l8 8c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}Yt.compatConfig={MODE:3};function Et(){return A(),V("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[fe("path",{d:"M12.943 24.943l8-8c0.521-0.521 0.521-1.365 0-1.885l-8-8c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885l7.057 7.057c0 0-7.057 7.057-7.057 7.057-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0z"})])}Et.compatConfig={MODE:3};function Ft(){return A(),V("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[fe("path",{d:"M16 1.333c-8.095 0-14.667 6.572-14.667 14.667s6.572 14.667 14.667 14.667c8.095 0 14.667-6.572 14.667-14.667s-6.572-14.667-14.667-14.667zM16 4c6.623 0 12 5.377 12 12s-5.377 12-12 12c-6.623 0-12-5.377-12-12s5.377-12 12-12z"}),fe("path",{d:"M14.667 8v8c0 0.505 0.285 0.967 0.737 1.193l5.333 2.667c0.658 0.329 1.46 0.062 1.789-0.596s0.062-1.46-0.596-1.789l-4.596-2.298c0 0 0-7.176 0-7.176 0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"})])}Ft.compatConfig={MODE:3};function Vt(){return A(),V("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[fe("path",{d:"M24.943 19.057l-8-8c-0.521-0.521-1.365-0.521-1.885 0l-8 8c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l7.057-7.057c0 0 7.057 7.057 7.057 7.057 0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}Vt.compatConfig={MODE:3};function zt(){return A(),V("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[fe("path",{d:"M7.057 12.943l8 8c0.521 0.521 1.365 0.521 1.885 0l8-8c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-7.057 7.057c0 0-7.057-7.057-7.057-7.057-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}zt.compatConfig={MODE:3};const Ge=(e,a)=>a?new Date(e.toLocaleString("en-US",{timeZone:a})):new Date(e),Ht=(e,a,n)=>It(e,a,n)||F(),on=(e,a,n)=>{const l=a.dateInTz?Ge(new Date(e),a.dateInTz):F(e);return n?Ue(l,!0):l},It=(e,a,n)=>{if(!e)return null;const l=n?Ue(F(e),!0):F(e);return a?a.exactMatch?on(e,a,n):Ge(l,a.timezone):l},un=e=>{if(!e)return 0;const a=new Date,n=new Date(a.toLocaleString("en-US",{timeZone:"UTC"})),l=new Date(a.toLocaleString("en-US",{timeZone:e})),t=l.getTimezoneOffset()/60;return(+n-+l)/(1e3*60*60)-t};var na=(e=>(e.month="month",e.year="year",e))(na||{}),Aa=(e=>(e.top="top",e.bottom="bottom",e))(Aa||{}),Ta=(e=>(e.header="header",e.calendar="calendar",e.timePicker="timePicker",e))(Ta||{}),Fe=(e=>(e.month="month",e.year="year",e.calendar="calendar",e.time="time",e.minutes="minutes",e.hours="hours",e.seconds="seconds",e))(Fe||{});const sn=["timestamp","date","iso"];var Ke=(e=>(e.up="up",e.down="down",e.left="left",e.right="right",e))(Ke||{}),Se=(e=>(e.arrowUp="ArrowUp",e.arrowDown="ArrowDown",e.arrowLeft="ArrowLeft",e.arrowRight="ArrowRight",e.enter="Enter",e.space=" ",e.esc="Escape",e.tab="Tab",e.home="Home",e.end="End",e.pageUp="PageUp",e.pageDown="PageDown",e))(Se||{});function al(e){return a=>new Intl.DateTimeFormat(e,{weekday:"short",timeZone:"UTC"}).format(new Date(`2017-01-0${a}T00:00:00+00:00`)).slice(0,2)}function dn(e){return a=>sa(Ge(new Date(`2017-01-0${a}T00:00:00+00:00`),"UTC"),"EEEEEE",{locale:e})}const cn=(e,a,n)=>{const l=[1,2,3,4,5,6,7];let t;if(e!==null)try{t=l.map(dn(e))}catch{t=l.map(al(a))}else t=l.map(al(a));const v=t.slice(0,n),p=t.slice(n+1,t.length);return[t[n]].concat(...p).concat(...v)},jt=(e,a,n)=>{const l=[];for(let t=+e[0];t<=+e[1];t++)l.push({value:+t,text:wl(t,a)});return n?l.reverse():l},bl=(e,a,n)=>{const l=[1,2,3,4,5,6,7,8,9,10,11,12].map(v=>{const p=v<10?`0${v}`:v;return new Date(`2017-${p}-01T00:00:00+00:00`)});if(e!==null)try{const v=n==="long"?"LLLL":"LLL";return l.map((p,b)=>{const c=sa(Ge(p,"UTC"),v,{locale:e});return{text:c.charAt(0).toUpperCase()+c.substring(1),value:b}})}catch{}const t=new Intl.DateTimeFormat(a,{month:n,timeZone:"UTC"});return l.map((v,p)=>{const b=t.format(v);return{text:b.charAt(0).toUpperCase()+b.substring(1),value:p}})},vn=e=>[12,1,2,3,4,5,6,7,8,9,10,11,12,1,2,3,4,5,6,7,8,9,10,11][e],Ne=e=>{const a=s(e);return a!=null&&a.$el?a==null?void 0:a.$el:a},pn=e=>({type:"dot",...e??{}}),_l=e=>Array.isArray(e)?!!e[0]&&!!e[1]:!1,Kt={prop:e=>`"${e}" prop must be enabled!`,dateArr:e=>`You need to use array as "model-value" binding in order to support "${e}"`},Ie=e=>e,tl=e=>e===0?e:!e||isNaN(+e)?null:+e,ll=e=>e===null,kl=e=>{if(e)return[...e.querySelectorAll("input, button, select, textarea, a[href]")][0]},mn=e=>{const a=[],n=l=>l.filter(t=>t);for(let l=0;l<e.length;l+=3){const t=[e[l],e[l+1],e[l+2]];a.push(n(t))}return a},Ja=(e,a,n)=>{const l=n!=null,t=a!=null;if(!l&&!t)return!1;const v=+n,p=+a;return l&&t?+e>v||+e<p:l?+e>v:t?+e<p:!1},Ia=(e,a)=>mn(e).map(n=>n.map(l=>{const{active:t,disabled:v,isBetween:p,highlighted:b}=a(l);return{...l,active:t,disabled:v,className:{dp__overlay_cell_active:t,dp__overlay_cell:!t,dp__overlay_cell_disabled:v,dp__overlay_cell_pad:!0,dp__overlay_cell_active_disabled:v&&t,dp__cell_in_between:p,"dp--highlighted":b}}})),ga=(e,a,n=!1)=>{e&&a.allowStopPropagation&&(n&&e.stopImmediatePropagation(),e.stopPropagation())},yn=()=>["a[href]","area[href]","input:not([disabled]):not([type='hidden'])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","[tabindex]:not([tabindex='-1'])","[data-datepicker-instance]"].join(", ");function fn(e,a){let n=[...document.querySelectorAll(yn())];n=n.filter(t=>!e.contains(t)||t.hasAttribute("data-datepicker-instance"));const l=n.indexOf(e);if(l>=0&&(a?l-1>=0:l+1<=n.length))return n[l+(a?-1:1)]}const hn=(e,a)=>e==null?void 0:e.querySelector(`[data-dp-element="${a}"]`),wl=(e,a)=>new Intl.NumberFormat(a,{useGrouping:!1,style:"decimal"}).format(e),Ut=e=>sa(e,"dd-MM-yyyy"),Dt=e=>Array.isArray(e),it=(e,a)=>a.get(Ut(e)),gn=(e,a)=>e?a?a instanceof Map?!!it(e,a):a(F(e)):!1:!0,Ze=(e,a,n=!1)=>{if(e.key===Se.enter||e.key===Se.space)return n&&e.preventDefault(),a()},nl=(e,a,n,l,t,v)=>{const p=Nt(e,a.slice(0,e.length),new Date,{locale:v});return rt(p)&&ln(p)?l||t?p:xe(p,{hours:+n.hours,minutes:+(n==null?void 0:n.minutes),seconds:+(n==null?void 0:n.seconds),milliseconds:0}):null},bn=(e,a,n,l,t,v)=>{const p=Array.isArray(n)?n[0]:n;if(typeof a=="string")return nl(e,a,p,l,t,v);if(Array.isArray(a)){let b=null;for(const c of a)if(b=nl(e,c,p,l,t,v),b)break;return b}return typeof a=="function"?a(e):null},F=e=>e?new Date(e):new Date,_n=(e,a,n)=>{if(a){const t=(e.getMonth()+1).toString().padStart(2,"0"),v=e.getDate().toString().padStart(2,"0"),p=e.getHours().toString().padStart(2,"0"),b=e.getMinutes().toString().padStart(2,"0"),c=n?e.getSeconds().toString().padStart(2,"0"):"00";return`${e.getFullYear()}-${t}-${v}T${p}:${b}:${c}.000Z`}const l=Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds());return new Date(l).toISOString()},Ue=(e,a)=>{const n=F(JSON.parse(JSON.stringify(e))),l=xe(n,{hours:0,minutes:0,seconds:0,milliseconds:0});return a?Jl(l):l},ba=(e,a,n,l)=>{let t=e?F(e):F();return(a||a===0)&&(t=Wl(t,+a)),(n||n===0)&&(t=Ql(t,+n)),(l||l===0)&&(t=ml(t,+l)),yl(t,0)},Re=(e,a)=>!e||!a?!1:Ua(Ue(e),Ue(a)),De=(e,a)=>!e||!a?!1:Ca(Ue(e),Ue(a)),Oe=(e,a)=>!e||!a?!1:Oa(Ue(e),Ue(a)),dt=(e,a,n)=>e!=null&&e[0]&&e!=null&&e[1]?Oe(n,e[0])&&Re(n,e[1]):e!=null&&e[0]&&a?Oe(n,e[0])&&Re(n,a)||Re(n,e[0])&&Oe(n,a):!1,ra=e=>{const a=xe(new Date(e),{date:1});return Ue(a)},At=(e,a,n)=>a&&(n||n===0)?Object.fromEntries(["hours","minutes","seconds"].map(l=>l===a?[l,n]:[l,isNaN(+e[l])?void 0:+e[l]])):{hours:isNaN(+e.hours)?void 0:+e.hours,minutes:isNaN(+e.minutes)?void 0:+e.minutes,seconds:isNaN(+e.seconds)?void 0:+e.seconds},Ma=e=>({hours:pa(e),minutes:_a(e),seconds:Na(e)}),Dl=(e,a)=>{if(a){const n=me(F(a));if(n>e)return 12;if(n===e)return be(F(a))}},Al=(e,a)=>{if(a){const n=me(F(a));return n<e?-1:n===e?be(F(a)):void 0}},Ba=e=>{if(e)return me(F(e))},$l=(e,a)=>{const n=Oe(e,a)?a:e,l=Oe(a,e)?a:e;return dl({start:n,end:l})},kn=e=>{const a=xa(e,1);return{month:be(a),year:me(a)}},da=(e,a)=>{const n=Lt(e,{weekStartsOn:+a}),l=vl(e,{weekStartsOn:+a});return[n,l]},xl=(e,a)=>{const n={hours:pa(F()),minutes:_a(F()),seconds:a?Na(F()):0};return Object.assign(n,e)},ha=(e,a,n)=>[xe(F(e),{date:1}),xe(F(),{month:a,year:n,date:1})],ca=(e,a,n)=>{let l=e?F(e):F();return(a||a===0)&&(l=en(l,a)),n&&(l=ua(l,n)),l},Tl=(e,a,n,l,t)=>{if(!l||t&&!a||!t&&!n)return!1;const v=t?xa(e,1):qa(e,1),p=[be(v),me(v)];return t?!Dn(...p,a):!wn(...p,n)},wn=(e,a,n)=>Re(...ha(n,e,a))||De(...ha(n,e,a)),Dn=(e,a,n)=>Oe(...ha(n,e,a))||De(...ha(n,e,a)),Ml=(e,a,n,l,t,v,p)=>{if(typeof a=="function"&&!p)return a(e);const b=n?{locale:n}:void 0;return Array.isArray(e)?`${sa(e[0],v,b)}${t&&!e[1]?"":l}${e[1]?sa(e[1],v,b):""}`:sa(e,v,b)},Pa=e=>{if(e)return null;throw new Error(Kt.prop("partial-range"))},at=(e,a)=>{if(a)return e();throw new Error(Kt.prop("range"))},Bt=e=>Array.isArray(e)?rt(e[0])&&(e[1]?rt(e[1]):!0):e?rt(e):!1,An=(e,a)=>xe(a??F(),{hours:+e.hours||0,minutes:+e.minutes||0,seconds:+e.seconds||0}),$t=(e,a,n,l)=>{if(!e)return!0;if(l){const t=n==="max"?Ua(e,a):Oa(e,a),v={seconds:0,milliseconds:0};return t||Ca(xe(e,v),xe(a,v))}return n==="max"?e.getTime()<=a.getTime():e.getTime()>=a.getTime()},xt=(e,a,n)=>e?An(e,a):F(n??a),rl=(e,a,n,l,t)=>{if(Array.isArray(l)){const p=xt(e,l[0],a),b=xt(e,l[1],a);return $t(l[0],p,n,!!a)&&$t(l[1],b,n,!!a)&&t}const v=xt(e,l,a);return $t(l,v,n,!!a)&&t},Tt=e=>xe(F(),Ma(e)),$n=(e,a)=>e instanceof Map?Array.from(e.values()).filter(n=>me(F(n))===a).map(n=>be(n)):[],Sl=(e,a,n)=>typeof e=="function"?e({month:a,year:n}):!!e.months.find(l=>l.month===a&&l.year===n),qt=(e,a)=>typeof e=="function"?e(a):e.years.includes(a),Pl=e=>sa(e,"yyyy-MM-dd"),za=Za({menuFocused:!1,shiftKeyInMenu:!1}),Rl=()=>{const e=n=>{za.menuFocused=n},a=n=>{za.shiftKeyInMenu!==n&&(za.shiftKeyInMenu=n)};return{control:j(()=>({shiftKeyInMenu:za.shiftKeyInMenu,menuFocused:za.menuFocused})),setMenuFocused:e,setShiftKey:a}},Te=Za({monthYear:[],calendar:[],time:[],actionRow:[],selectionGrid:[],timePicker:{0:[],1:[]},monthPicker:[]}),Mt=X(null),tt=X(!1),St=X(!1),Pt=X(!1),Rt=X(!1),Ee=X(0),Ce=X(0),ka=()=>{const e=j(()=>tt.value?[...Te.selectionGrid,Te.actionRow].filter(h=>h.length):St.value?[...Te.timePicker[0],...Te.timePicker[1],Rt.value?[]:[Mt.value],Te.actionRow].filter(h=>h.length):Pt.value?[...Te.monthPicker,Te.actionRow]:[Te.monthYear,...Te.calendar,Te.time,Te.actionRow].filter(h=>h.length)),a=h=>{Ee.value=h?Ee.value+1:Ee.value-1;let f=null;e.value[Ce.value]&&(f=e.value[Ce.value][Ee.value]),!f&&e.value[Ce.value+(h?1:-1)]?(Ce.value=Ce.value+(h?1:-1),Ee.value=h?0:e.value[Ce.value].length-1):f||(Ee.value=h?Ee.value-1:Ee.value+1)},n=h=>{Ce.value===0&&!h||Ce.value===e.value.length&&h||(Ce.value=h?Ce.value+1:Ce.value-1,e.value[Ce.value]?e.value[Ce.value]&&!e.value[Ce.value][Ee.value]&&Ee.value!==0&&(Ee.value=e.value[Ce.value].length-1):Ce.value=h?Ce.value-1:Ce.value+1)},l=h=>{let f=null;e.value[Ce.value]&&(f=e.value[Ce.value][Ee.value]),f?f.focus({preventScroll:!tt.value}):Ee.value=h?Ee.value-1:Ee.value+1},t=()=>{a(!0),l(!0)},v=()=>{a(!1),l(!1)},p=()=>{n(!1),l(!0)},b=()=>{n(!0),l(!0)},c=(h,f)=>{Te[f]=h},Y=(h,f)=>{Te[f]=h},y=()=>{Ee.value=0,Ce.value=0};return{buildMatrix:c,buildMultiLevelMatrix:Y,setTimePickerBackRef:h=>{Mt.value=h},setSelectionGrid:h=>{tt.value=h,y(),h||(Te.selectionGrid=[])},setTimePicker:(h,f=!1)=>{St.value=h,Rt.value=f,y(),h||(Te.timePicker[0]=[],Te.timePicker[1]=[])},setTimePickerElements:(h,f=0)=>{Te.timePicker[f]=h},arrowRight:t,arrowLeft:v,arrowUp:p,arrowDown:b,clearArrowNav:()=>{Te.monthYear=[],Te.calendar=[],Te.time=[],Te.actionRow=[],Te.selectionGrid=[],Te.timePicker[0]=[],Te.timePicker[1]=[],tt.value=!1,St.value=!1,Rt.value=!1,Pt.value=!1,y(),Mt.value=null},setMonthPicker:h=>{Pt.value=h,y()},refSets:Te}},ol=e=>({menuAppearTop:"dp-menu-appear-top",menuAppearBottom:"dp-menu-appear-bottom",open:"dp-slide-down",close:"dp-slide-up",next:"calendar-next",previous:"calendar-prev",vNext:"dp-slide-up",vPrevious:"dp-slide-down",...e??{}}),xn=e=>({toggleOverlay:"Toggle overlay",menu:"Datepicker menu",input:"Datepicker input",calendarWrap:"Calendar wrapper",calendarDays:"Calendar days",openTimePicker:"Open time picker",closeTimePicker:"Close time Picker",incrementValue:a=>`Increment ${a}`,decrementValue:a=>`Decrement ${a}`,openTpOverlay:a=>`Open ${a} overlay`,amPmButton:"Switch AM/PM mode",openYearsOverlay:"Open years overlay",openMonthsOverlay:"Open months overlay",nextMonth:"Next month",prevMonth:"Previous month",nextYear:"Next year",prevYear:"Previous year",day:void 0,weekDay:void 0,...e??{}}),il=e=>e?typeof e=="boolean"?e?2:0:+e>=2?+e:2:0,Tn=e=>{const a=typeof e=="object"&&e,n={static:!0,solo:!1};if(!e)return{...n,count:il(!1)};const l=a?e:{},t=a?l.count??!0:e,v=il(t);return Object.assign(n,l,{count:v})},Mn=(e,a,n)=>e||(typeof n=="string"?n:a),Sn=e=>typeof e=="boolean"?e?ol({}):!1:ol(e),Pn=e=>{const a={enterSubmit:!0,tabSubmit:!0,openMenu:!0,selectOnFocus:!1,rangeSeparator:" - "};return typeof e=="object"?{...a,...e??{},enabled:!0}:{...a,enabled:e}},Rn=e=>({months:[],years:[],times:{hours:[],minutes:[],seconds:[]},...e??{}}),Cn=e=>({showSelect:!0,showCancel:!0,showNow:!1,showPreview:!0,...e??{}}),On=e=>{const a={input:!1};return typeof e=="object"?{...a,...e??{},enabled:!0}:{enabled:e,...a}},Nn=e=>({allowStopPropagation:!0,closeOnScroll:!1,modeHeight:255,allowPreventDefault:!1,closeOnClearValue:!0,closeOnAutoApply:!0,noSwipe:!1,keepActionRow:!1,onClickOutside:void 0,tabOutClosesMenu:!0,arrowLeft:void 0,keepViewOnOffsetClick:!1,timeArrowHoldThreshold:0,...e??{}}),In=e=>{const a={dates:Array.isArray(e)?e.map(n=>F(n)):[],years:[],months:[],quarters:[],weeks:[],weekdays:[],options:{highlightDisabled:!1}};return typeof e=="function"?e:{...a,...e??{}}},Bn=e=>typeof e=="object"?{type:(e==null?void 0:e.type)??"local",hideOnOffsetDates:(e==null?void 0:e.hideOnOffsetDates)??!1}:{type:e,hideOnOffsetDates:!1},Ln=(e,a)=>typeof e=="object"?{enabled:!0,...{noDisabledRange:!1,showLastInRange:!0,minMaxRawRange:!1,partialRange:!0,disableTimeRangeValidation:!1,maxRange:void 0,minRange:void 0,autoRange:void 0,fixedStart:!1,fixedEnd:!1},...e}:{enabled:e,noDisabledRange:a.noDisabledRange,showLastInRange:a.showLastInRange,minMaxRawRange:a.minMaxRawRange,partialRange:a.partialRange,disableTimeRangeValidation:a.disableTimeRangeValidation,maxRange:a.maxRange,minRange:a.minRange,autoRange:a.autoRange,fixedStart:a.fixedStart,fixedEnd:a.fixedEnd},Yn=(e,a)=>e?typeof e=="string"?{timezone:e,exactMatch:!1,dateInTz:void 0,emitTimezone:a,convertModel:!0}:{timezone:e.timezone,exactMatch:e.exactMatch??!1,dateInTz:e.dateInTz??void 0,emitTimezone:a??e.emitTimezone,convertModel:e.convertModel??!0}:{timezone:void 0,exactMatch:!1,emitTimezone:a},Ct=(e,a,n)=>new Map(e.map(l=>{const t=Ht(l,a,n);return[Ut(t),t]})),En=(e,a)=>e.length?new Map(e.map(n=>{const l=Ht(n.date,a);return[Ut(l),n]})):null,Fn=e=>{var a;return{minDate:It(e.minDate,e.timezone,e.isSpecific),maxDate:It(e.maxDate,e.timezone,e.isSpecific),disabledDates:Dt(e.disabledDates)?Ct(e.disabledDates,e.timezone,e.isSpecific):e.disabledDates,allowedDates:Dt(e.allowedDates)?Ct(e.allowedDates,e.timezone,e.isSpecific):null,highlight:typeof e.highlight=="object"&&Dt((a=e.highlight)==null?void 0:a.dates)?Ct(e.highlight.dates,e.timezone):e.highlight,markers:En(e.markers,e.timezone)}},Vn=(e,a)=>typeof e=="boolean"?{enabled:e,dragSelect:!0,limit:+a}:{enabled:!!e,limit:e.limit?+e.limit:null,dragSelect:e.dragSelect??!0},zn=e=>({...Object.fromEntries(Object.keys(e).map(a=>{const n=a,l=e[n],t=typeof e[n]=="string"?{[l]:!0}:Object.fromEntries(l.map(v=>[v,!0]));return[a,t]}))}),Pe=e=>{const a=()=>{const O=e.enableSeconds?":ss":"",S=e.enableMinutes?":mm":"";return e.is24?`HH${S}${O}`:`hh${S}${O} aa`},n=()=>{var O;return e.format?e.format:e.monthPicker?"MM/yyyy":e.timePicker?a():e.weekPicker?`${((O=R.value)==null?void 0:O.type)==="iso"?"RR":"ww"}-yyyy`:e.yearPicker?"yyyy":e.quarterPicker?"QQQ/yyyy":e.enableTimePicker?`MM/dd/yyyy, ${a()}`:"MM/dd/yyyy"},l=O=>xl(O,e.enableSeconds),t=()=>H.value.enabled?e.startTime&&Array.isArray(e.startTime)?[l(e.startTime[0]),l(e.startTime[1])]:null:e.startTime&&!Array.isArray(e.startTime)?l(e.startTime):null,v=j(()=>Tn(e.multiCalendars)),p=j(()=>t()),b=j(()=>xn(e.ariaLabels)),c=j(()=>Rn(e.filters)),Y=j(()=>Sn(e.transitions)),y=j(()=>Cn(e.actionRow)),h=j(()=>Mn(e.previewFormat,e.format,n())),f=j(()=>Pn(e.textInput)),D=j(()=>On(e.inline)),C=j(()=>Nn(e.config)),k=j(()=>In(e.highlight)),R=j(()=>Bn(e.weekNumbers)),K=j(()=>Yn(e.timezone,e.emitTimezone)),ee=j(()=>Vn(e.multiDates,e.multiDatesLimit)),T=j(()=>Fn({minDate:e.minDate,maxDate:e.maxDate,disabledDates:e.disabledDates,allowedDates:e.allowedDates,highlight:k.value,markers:e.markers,timezone:K.value,isSpecific:e.monthPicker||e.yearPicker||e.quarterPicker})),H=j(()=>Ln(e.range,{minMaxRawRange:!1,maxRange:e.maxRange,minRange:e.minRange,noDisabledRange:e.noDisabledRange,showLastInRange:e.showLastInRange,partialRange:e.partialRange,disableTimeRangeValidation:e.disableTimeRangeValidation,autoRange:e.autoRange,fixedStart:e.fixedStart,fixedEnd:e.fixedEnd})),Q=j(()=>zn(e.ui));return{defaultedTransitions:Y,defaultedMultiCalendars:v,defaultedStartTime:p,defaultedAriaLabels:b,defaultedFilters:c,defaultedActionRow:y,defaultedPreviewFormat:h,defaultedTextInput:f,defaultedInline:D,defaultedConfig:C,defaultedHighlight:k,defaultedWeekNumbers:R,defaultedRange:H,propDates:T,defaultedTz:K,defaultedMultiDates:ee,defaultedUI:Q,getDefaultPattern:n,getDefaultStartTime:t}},Hn=(e,a,n)=>{const l=X(),{defaultedTextInput:t,defaultedRange:v,defaultedTz:p,defaultedMultiDates:b,getDefaultPattern:c}=Pe(a),Y=X(""),y=ja(a,"format"),h=ja(a,"formatLocale");ta(l,()=>{typeof a.onInternalModelChange=="function"&&e("internal-model-change",l.value,le(!0))},{deep:!0}),ta(v,(d,re)=>{d.enabled!==re.enabled&&(l.value=null)}),ta(y,()=>{E()});const f=d=>p.value.timezone&&p.value.convertModel?Ge(d,p.value.timezone):d,D=d=>{if(p.value.timezone&&p.value.convertModel){const re=un(p.value.timezone);return Zl(d,re)}return d},C=(d,re,he=!1)=>Ml(d,a.format,a.formatLocale,t.value.rangeSeparator,a.modelAuto,re??c(),he),k=d=>d?a.modelType?ie(d):{hours:pa(d),minutes:_a(d),seconds:a.enableSeconds?Na(d):0}:null,R=d=>a.modelType?ie(d):{month:be(d),year:me(d)},K=d=>Array.isArray(d)?b.value.enabled?d.map(re=>ee(re,ua(F(),re))):at(()=>[ua(F(),d[0]),d[1]?ua(F(),d[1]):Pa(v.value.partialRange)],v.value.enabled):ua(F(),+d),ee=(d,re)=>(typeof d=="string"||typeof d=="number")&&a.modelType?ae(d):re,T=d=>Array.isArray(d)?[ee(d[0],ba(null,+d[0].hours,+d[0].minutes,d[0].seconds)),ee(d[1],ba(null,+d[1].hours,+d[1].minutes,d[1].seconds))]:ee(d,ba(null,d.hours,d.minutes,d.seconds)),H=d=>{const re=xe(F(),{date:1});return Array.isArray(d)?b.value.enabled?d.map(he=>ee(he,ca(re,+he.month,+he.year))):at(()=>[ee(d[0],ca(re,+d[0].month,+d[0].year)),ee(d[1],d[1]?ca(re,+d[1].month,+d[1].year):Pa(v.value.partialRange))],v.value.enabled):ee(d,ca(re,+d.month,+d.year))},Q=d=>{if(Array.isArray(d))return d.map(re=>ae(re));throw new Error(Kt.dateArr("multi-dates"))},O=d=>{if(Array.isArray(d)&&v.value.enabled){const re=d[0],he=d[1];return[F(Array.isArray(re)?re[0]:null),F(Array.isArray(he)?he[0]:null)]}return F(d[0])},S=d=>a.modelAuto?Array.isArray(d)?[ae(d[0]),ae(d[1])]:a.autoApply?[ae(d)]:[ae(d),null]:Array.isArray(d)?at(()=>d[1]?[ae(d[0]),d[1]?ae(d[1]):Pa(v.value.partialRange)]:[ae(d[0])],v.value.enabled):ae(d),ne=()=>{Array.isArray(l.value)&&v.value.enabled&&l.value.length===1&&l.value.push(Pa(v.value.partialRange))},q=()=>{const d=l.value;return[ie(d[0]),d[1]?ie(d[1]):Pa(v.value.partialRange)]},N=()=>l.value[1]?q():ie(Ie(l.value[0])),te=()=>(l.value||[]).map(d=>ie(d)),se=(d=!1)=>(d||ne(),a.modelAuto?N():b.value.enabled?te():Array.isArray(l.value)?at(()=>q(),v.value.enabled):ie(Ie(l.value))),ce=d=>!d||Array.isArray(d)&&!d.length?null:a.timePicker?T(Ie(d)):a.monthPicker?H(Ie(d)):a.yearPicker?K(Ie(d)):b.value.enabled?Q(Ie(d)):a.weekPicker?O(Ie(d)):S(Ie(d)),M=d=>{const re=ce(d);Bt(Ie(re))?(l.value=Ie(re),E()):(l.value=null,Y.value="")},u=()=>{const d=re=>sa(re,t.value.format);return`${d(l.value[0])} ${t.value.rangeSeparator} ${l.value[1]?d(l.value[1]):""}`},w=()=>n.value&&l.value?Array.isArray(l.value)?u():sa(l.value,t.value.format):C(l.value),o=()=>l.value?b.value.enabled?l.value.map(d=>C(d)).join("; "):t.value.enabled&&typeof t.value.format=="string"?w():C(l.value):"",E=()=>{!a.format||typeof a.format=="string"||t.value.enabled&&typeof t.value.format=="string"?Y.value=o():Y.value=a.format(l.value)},ae=d=>{if(a.utc){const re=new Date(d);return a.utc==="preserve"?new Date(re.getTime()+re.getTimezoneOffset()*6e4):re}return a.modelType?sn.includes(a.modelType)?f(new Date(d)):a.modelType==="format"&&(typeof a.format=="string"||!a.format)?f(Nt(d,c(),new Date,{locale:h.value})):f(Nt(d,a.modelType,new Date,{locale:h.value})):f(new Date(d))},ie=d=>d?a.utc?_n(d,a.utc==="preserve",a.enableSeconds):a.modelType?a.modelType==="timestamp"?+D(d):a.modelType==="iso"?D(d).toISOString():a.modelType==="format"&&(typeof a.format=="string"||!a.format)?C(D(d)):C(D(d),a.modelType,!0):D(d):"",pe=(d,re=!1,he=!1)=>{if(he)return d;if(e("update:model-value",d),p.value.emitTimezone&&re){const P=Array.isArray(d)?d.map(ye=>Ge(Ie(ye),p.value.emitTimezone)):Ge(Ie(d),p.value.emitTimezone);e("update:model-timezone-value",P)}},m=d=>Array.isArray(l.value)?b.value.enabled?l.value.map(re=>d(re)):[d(l.value[0]),l.value[1]?d(l.value[1]):Pa(v.value.partialRange)]:d(Ie(l.value)),B=()=>{if(Array.isArray(l.value)){const d=da(l.value[0],a.weekStart),re=l.value[1]?da(l.value[1],a.weekStart):[];return[d.map(he=>F(he)),re.map(he=>F(he))]}return da(l.value,a.weekStart).map(d=>F(d))},r=(d,re)=>pe(Ie(m(d)),!1,re),x=d=>{const re=B();return d?re:e("update:model-value",B())},le=(d=!1)=>(d||E(),a.monthPicker?r(R,d):a.timePicker?r(k,d):a.yearPicker?r(me,d):a.weekPicker?x(d):pe(se(d),!0,d));return{inputValue:Y,internalModelValue:l,checkBeforeEmit:()=>l.value?v.value.enabled?v.value.partialRange?l.value.length>=1:l.value.length===2:!!l.value:!1,parseExternalModelValue:M,formatInputValue:E,emitModelValue:le}},jn=(e,a)=>{const{defaultedFilters:n,propDates:l}=Pe(e),{validateMonthYearInRange:t}=wa(e),v=(y,h)=>{let f=y;return n.value.months.includes(be(f))?(f=h?xa(y,1):qa(y,1),v(f,h)):f},p=(y,h)=>{let f=y;return n.value.years.includes(me(f))?(f=h?fl(y,1):hl(y,1),p(f,h)):f},b=(y,h=!1)=>{const f=xe(F(),{month:e.month,year:e.year});let D=y?xa(f,1):qa(f,1);e.disableYearSelect&&(D=ua(D,e.year));let C=be(D),k=me(D);n.value.months.includes(C)&&(D=v(D,y),C=be(D),k=me(D)),n.value.years.includes(k)&&(D=p(D,y),k=me(D)),t(C,k,y,e.preventMinMaxNavigation)&&c(C,k,h)},c=(y,h,f)=>{a("update-month-year",{month:y,year:h,fromNav:f})},Y=j(()=>y=>Tl(xe(F(),{month:e.month,year:e.year}),l.value.maxDate,l.value.minDate,e.preventMinMaxNavigation,y));return{handleMonthYearChange:b,isDisabled:Y,updateMonthYear:c}},ct={multiCalendars:{type:[Boolean,Number,String,Object],default:void 0},modelValue:{type:[String,Date,Array,Object,Number],default:null},modelType:{type:String,default:null},position:{type:String,default:"center"},dark:{type:Boolean,default:!1},format:{type:[String,Function],default:()=>null},autoPosition:{type:Boolean,default:!0},altPosition:{type:Function,default:null},transitions:{type:[Boolean,Object],default:!0},formatLocale:{type:Object,default:null},utc:{type:[Boolean,String],default:!1},ariaLabels:{type:Object,default:()=>({})},offset:{type:[Number,String],default:10},hideNavigation:{type:Array,default:()=>[]},timezone:{type:[String,Object],default:null},emitTimezone:{type:String,default:null},vertical:{type:Boolean,default:!1},disableMonthYearSelect:{type:Boolean,default:!1},disableYearSelect:{type:Boolean,default:!1},menuClassName:{type:String,default:null},dayClass:{type:Function,default:null},yearRange:{type:Array,default:()=>[1900,2100]},calendarCellClassName:{type:String,default:null},enableTimePicker:{type:Boolean,default:!0},autoApply:{type:Boolean,default:!1},disabledDates:{type:[Array,Function],default:()=>[]},monthNameFormat:{type:String,default:"short"},startDate:{type:[Date,String],default:null},startTime:{type:[Object,Array],default:null},hideOffsetDates:{type:Boolean,default:!1},autoRange:{type:[Number,String],default:null},noToday:{type:Boolean,default:!1},disabledWeekDays:{type:Array,default:()=>[]},allowedDates:{type:Array,default:null},nowButtonLabel:{type:String,default:"Now"},markers:{type:Array,default:()=>[]},escClose:{type:Boolean,default:!0},spaceConfirm:{type:Boolean,default:!0},monthChangeOnArrows:{type:Boolean,default:!0},presetDates:{type:Array,default:()=>[]},flow:{type:Array,default:()=>[]},partialFlow:{type:Boolean,default:!1},preventMinMaxNavigation:{type:Boolean,default:!1},minRange:{type:[Number,String],default:null},maxRange:{type:[Number,String],default:null},multiDatesLimit:{type:[Number,String],default:null},reverseYears:{type:Boolean,default:!1},weekPicker:{type:Boolean,default:!1},filters:{type:Object,default:()=>({})},arrowNavigation:{type:Boolean,default:!1},disableTimeRangeValidation:{type:Boolean,default:!1},highlight:{type:[Function,Object],default:null},teleport:{type:[Boolean,String,Object],default:null},teleportCenter:{type:Boolean,default:!1},locale:{type:String,default:"en-Us"},weekNumName:{type:String,default:"W"},weekStart:{type:[Number,String],default:1},weekNumbers:{type:[String,Function,Object],default:null},calendarClassName:{type:String,default:null},monthChangeOnScroll:{type:[Boolean,String],default:!0},dayNames:{type:[Function,Array],default:null},monthPicker:{type:Boolean,default:!1},customProps:{type:Object,default:null},yearPicker:{type:Boolean,default:!1},modelAuto:{type:Boolean,default:!1},selectText:{type:String,default:"Select"},cancelText:{type:String,default:"Cancel"},previewFormat:{type:[String,Function],default:()=>""},multiDates:{type:[Object,Boolean],default:!1},partialRange:{type:Boolean,default:!0},ignoreTimeValidation:{type:Boolean,default:!1},minDate:{type:[Date,String],default:null},maxDate:{type:[Date,String],default:null},minTime:{type:Object,default:null},maxTime:{type:Object,default:null},name:{type:String,default:null},placeholder:{type:String,default:""},hideInputIcon:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},state:{type:Boolean,default:null},required:{type:Boolean,default:!1},autocomplete:{type:String,default:"off"},inputClassName:{type:String,default:null},fixedStart:{type:Boolean,default:!1},fixedEnd:{type:Boolean,default:!1},timePicker:{type:Boolean,default:!1},enableSeconds:{type:Boolean,default:!1},is24:{type:Boolean,default:!0},noHoursOverlay:{type:Boolean,default:!1},noMinutesOverlay:{type:Boolean,default:!1},noSecondsOverlay:{type:Boolean,default:!1},hoursGridIncrement:{type:[String,Number],default:1},minutesGridIncrement:{type:[String,Number],default:5},secondsGridIncrement:{type:[String,Number],default:5},hoursIncrement:{type:[Number,String],default:1},minutesIncrement:{type:[Number,String],default:1},secondsIncrement:{type:[Number,String],default:1},range:{type:[Boolean,Object],default:!1},uid:{type:String,default:null},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},inline:{type:[Boolean,Object],default:!1},textInput:{type:[Boolean,Object],default:!1},noDisabledRange:{type:Boolean,default:!1},sixWeeks:{type:[Boolean,String],default:!1},actionRow:{type:Object,default:()=>({})},focusStartDate:{type:Boolean,default:!1},disabledTimes:{type:[Function,Array],default:void 0},showLastInRange:{type:Boolean,default:!0},timePickerInline:{type:Boolean,default:!1},calendar:{type:Function,default:null},config:{type:Object,default:void 0},quarterPicker:{type:Boolean,default:!1},yearFirst:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},onInternalModelChange:{type:[Function,Object],default:null},enableMinutes:{type:Boolean,default:!0},ui:{type:Object,default:()=>({})}},oa={...ct,shadow:{type:Boolean,default:!1},flowStep:{type:Number,default:0},internalModelValue:{type:[Date,Array],default:null},noOverlayFocus:{type:Boolean,default:!1},collapse:{type:Boolean,default:!1},menuWrapRef:{type:Object,default:null},getInputRect:{type:Function,default:()=>({})},isTextInputDate:{type:Boolean,default:!1}},Kn=["title"],Un=["disabled"],qn=Ye({compatConfig:{MODE:3},__name:"ActionRow",props:{menuMount:{type:Boolean,default:!1},calendarWidth:{type:Number,default:0},...oa},emits:["close-picker","select-date","select-now","invalid-select"],setup(e,{emit:a}){const n=a,l=e,{defaultedActionRow:t,defaultedPreviewFormat:v,defaultedMultiCalendars:p,defaultedTextInput:b,defaultedInline:c,defaultedRange:Y,defaultedMultiDates:y,getDefaultPattern:h}=Pe(l),{isTimeValid:f,isMonthValid:D}=wa(l),{buildMatrix:C}=ka(),k=X(null),R=X(null),K=X(!1),ee=X({}),T=X(null),H=X(null);He(()=>{l.arrowNavigation&&C([Ne(k),Ne(R)],"actionRow"),Q(),window.addEventListener("resize",Q)}),ut(()=>{window.removeEventListener("resize",Q)});const Q=()=>{K.value=!1,setTimeout(()=>{var u,w;const o=(u=T.value)==null?void 0:u.getBoundingClientRect(),E=(w=H.value)==null?void 0:w.getBoundingClientRect();o&&E&&(ee.value.maxWidth=`${E.width-o.width-20}px`),K.value=!0},0)},O=j(()=>Y.value.enabled&&!Y.value.partialRange&&l.internalModelValue?l.internalModelValue.length===2:!0),S=j(()=>!f.value(l.internalModelValue)||!D.value(l.internalModelValue)||!O.value),ne=()=>{const u=v.value;return l.timePicker||l.monthPicker,u(Ie(l.internalModelValue))},q=()=>{const u=l.internalModelValue;return p.value.count>0?`${N(u[0])} - ${N(u[1])}`:[N(u[0]),N(u[1])]},N=u=>Ml(u,v.value,l.formatLocale,b.value.rangeSeparator,l.modelAuto,h()),te=j(()=>!l.internalModelValue||!l.menuMount?"":typeof v.value=="string"?Array.isArray(l.internalModelValue)?l.internalModelValue.length===2&&l.internalModelValue[1]?q():y.value.enabled?l.internalModelValue.map(u=>`${N(u)}`):l.modelAuto?`${N(l.internalModelValue[0])}`:`${N(l.internalModelValue[0])} -`:N(l.internalModelValue):ne()),se=()=>y.value.enabled?"; ":" - ",ce=j(()=>Array.isArray(te.value)?te.value.join(se()):te.value),M=()=>{f.value(l.internalModelValue)&&D.value(l.internalModelValue)&&O.value?n("select-date"):n("invalid-select")};return(u,w)=>(A(),V("div",{ref_key:"actionRowRef",ref:H,class:"dp__action_row"},[u.$slots["action-row"]?ue(u.$slots,"action-row",Be(Le({key:0},{internalModelValue:u.internalModelValue,disabled:S.value,selectDate:()=>u.$emit("select-date"),closePicker:()=>u.$emit("close-picker")}))):(A(),V(_e,{key:1},[s(t).showPreview?(A(),V("div",{key:0,class:"dp__selection_preview",title:ce.value,style:aa(ee.value)},[u.$slots["action-preview"]&&K.value?ue(u.$slots,"action-preview",{key:0,value:u.internalModelValue}):U("",!0),!u.$slots["action-preview"]&&K.value?(A(),V(_e,{key:1},[va(Ve(ce.value),1)],64)):U("",!0)],12,Kn)):U("",!0),fe("div",{ref_key:"actionBtnContainer",ref:T,class:"dp__action_buttons","data-dp-element":"action-row"},[u.$slots["action-buttons"]?ue(u.$slots,"action-buttons",{key:0,value:u.internalModelValue}):U("",!0),u.$slots["action-buttons"]?U("",!0):(A(),V(_e,{key:1},[!s(c).enabled&&s(t).showCancel?(A(),V("button",{key:0,ref_key:"cancelButtonRef",ref:k,type:"button",class:"dp__action_button dp__action_cancel",onClick:w[0]||(w[0]=o=>u.$emit("close-picker")),onKeydown:w[1]||(w[1]=o=>s(Ze)(o,()=>u.$emit("close-picker")))},Ve(u.cancelText),545)):U("",!0),s(t).showNow?(A(),V("button",{key:1,type:"button",class:"dp__action_button dp__action_cancel",onClick:w[2]||(w[2]=o=>u.$emit("select-now")),onKeydown:w[3]||(w[3]=o=>s(Ze)(o,()=>u.$emit("select-now")))},Ve(u.nowButtonLabel),33)):U("",!0),s(t).showSelect?(A(),V("button",{key:2,ref_key:"selectButtonRef",ref:R,type:"button",class:"dp__action_button dp__action_select",disabled:S.value,"data-test":"select-button",onKeydown:w[4]||(w[4]=o=>s(Ze)(o,()=>M())),onClick:M},Ve(u.selectText),41,Un)):U("",!0)],64))],512)],64))],512))}}),Jn={class:"dp__selection_grid_header"},Zn=["aria-selected","aria-disabled","data-test","onClick","onKeydown","onMouseover"],Gn=["aria-label"],Ga=Ye({__name:"SelectionOverlay",props:{items:{},type:{},isLast:{type:Boolean},arrowNavigation:{type:Boolean},skipButtonRef:{type:Boolean},headerRefs:{},hideNavigation:{},escClose:{type:Boolean},useRelative:{type:Boolean},height:{},textInput:{type:[Boolean,Object]},config:{},noOverlayFocus:{type:Boolean},focusValue:{},menuWrapRef:{},ariaLabels:{}},emits:["selected","toggle","reset-flow","hover-value"],setup(e,{expose:a,emit:n}){const{setSelectionGrid:l,buildMultiLevelMatrix:t,setMonthPicker:v}=ka(),p=n,b=e,{defaultedAriaLabels:c,defaultedTextInput:Y,defaultedConfig:y}=Pe(b),{hideNavigationButtons:h}=mt(),f=X(!1),D=X(null),C=X(null),k=X([]),R=X(),K=X(null),ee=X(0),T=X(null);zl(()=>{D.value=null}),He(()=>{Qe().then(()=>te()),b.noOverlayFocus||Q(),H(!0)}),ut(()=>H(!1));const H=m=>{var B;b.arrowNavigation&&((B=b.headerRefs)!=null&&B.length?v(m):l(m))},Q=()=>{var m;const B=Ne(C);B&&(Y.value.enabled||(D.value?(m=D.value)==null||m.focus({preventScroll:!0}):B.focus({preventScroll:!0})),f.value=B.clientHeight<B.scrollHeight)},O=j(()=>({dp__overlay:!0,"dp--overlay-absolute":!b.useRelative,"dp--overlay-relative":b.useRelative})),S=j(()=>b.useRelative?{height:`${b.height}px`,width:"260px"}:void 0),ne=j(()=>({dp__overlay_col:!0})),q=j(()=>({dp__btn:!0,dp__button:!0,dp__overlay_action:!0,dp__over_action_scroll:f.value,dp__button_bottom:b.isLast})),N=j(()=>{var m,B;return{dp__overlay_container:!0,dp__container_flex:((m=b.items)==null?void 0:m.length)<=6,dp__container_block:((B=b.items)==null?void 0:B.length)>6}});ta(()=>b.items,()=>te(!1),{deep:!0});const te=(m=!0)=>{Qe().then(()=>{const B=Ne(D),r=Ne(C),x=Ne(K),le=Ne(T),d=x?x.getBoundingClientRect().height:0;r&&(r.getBoundingClientRect().height?ee.value=r.getBoundingClientRect().height-d:ee.value=y.value.modeHeight-d),B&&le&&m&&(le.scrollTop=B.offsetTop-le.offsetTop-(ee.value/2-B.getBoundingClientRect().height)-d)})},se=m=>{m.disabled||p("selected",m.value)},ce=()=>{p("toggle"),p("reset-flow")},M=()=>{b.escClose&&ce()},u=(m,B,r,x)=>{m&&((B.active||B.value===b.focusValue)&&(D.value=m),b.arrowNavigation&&(Array.isArray(k.value[r])?k.value[r][x]=m:k.value[r]=[m],w()))},w=()=>{var m,B;const r=(m=b.headerRefs)!=null&&m.length?[b.headerRefs].concat(k.value):k.value.concat([b.skipButtonRef?[]:[K.value]]);t(Ie(r),(B=b.headerRefs)!=null&&B.length?"monthPicker":"selectionGrid")},o=m=>{b.arrowNavigation||ga(m,y.value,!0)},E=m=>{R.value=m,p("hover-value",m)},ae=()=>{if(ce(),!b.isLast){const m=hn(b.menuWrapRef??null,"action-row");if(m){const B=kl(m);B==null||B.focus()}}},ie=m=>{switch(m.key){case Se.esc:return M();case Se.arrowLeft:return o(m);case Se.arrowRight:return o(m);case Se.arrowUp:return o(m);case Se.arrowDown:return o(m);default:return}},pe=m=>{if(m.key===Se.enter)return ce();if(m.key===Se.tab)return ae()};return a({focusGrid:Q}),(m,B)=>{var r;return A(),V("div",{ref_key:"gridWrapRef",ref:C,class:ke(O.value),style:aa(S.value),role:"dialog",tabindex:"0",onKeydown:ie,onClick:B[0]||(B[0]=Ka(()=>{},["prevent"]))},[fe("div",{ref_key:"containerRef",ref:T,class:ke(N.value),role:"grid",style:aa({"--dp-overlay-height":`${ee.value}px`})},[fe("div",Jn,[ue(m.$slots,"header")]),m.$slots.overlay?ue(m.$slots,"overlay",{key:0}):(A(!0),V(_e,{key:1},Me(m.items,(x,le)=>(A(),V("div",{key:le,class:ke(["dp__overlay_row",{dp__flex_row:m.items.length>=3}]),role:"row"},[(A(!0),V(_e,null,Me(x,(d,re)=>(A(),V("div",{key:d.value,ref_for:!0,ref:he=>u(he,d,le,re),role:"gridcell",class:ke(ne.value),"aria-selected":d.active||void 0,"aria-disabled":d.disabled||void 0,tabindex:"0","data-test":d.text,onClick:Ka(he=>se(d),["prevent"]),onKeydown:he=>s(Ze)(he,()=>se(d),!0),onMouseover:he=>E(d.value)},[fe("div",{class:ke(d.className)},[m.$slots.item?ue(m.$slots,"item",{key:0,item:d}):U("",!0),m.$slots.item?U("",!0):(A(),V(_e,{key:1},[va(Ve(d.text),1)],64))],2)],42,Zn))),128))],2))),128))],6),m.$slots["button-icon"]?lt((A(),V("button",{key:0,ref_key:"toggleButton",ref:K,type:"button","aria-label":(r=s(c))==null?void 0:r.toggleOverlay,class:ke(q.value),tabindex:"0",onClick:ce,onKeydown:pe},[ue(m.$slots,"button-icon")],42,Gn)),[[nt,!s(h)(m.hideNavigation,m.type)]]):U("",!0)],38)}}}),vt=Ye({__name:"InstanceWrap",props:{multiCalendars:{},stretch:{type:Boolean},collapse:{type:Boolean}},setup(e){const a=e,n=j(()=>a.multiCalendars>0?[...Array(a.multiCalendars).keys()]:[0]),l=j(()=>({dp__instance_calendar:a.multiCalendars>0}));return(t,v)=>(A(),V("div",{class:ke({dp__menu_inner:!t.stretch,"dp--menu--inner-stretched":t.stretch,dp__flex_display:t.multiCalendars>0,"dp--flex-display-collapsed":t.collapse})},[(A(!0),V(_e,null,Me(n.value,(p,b)=>(A(),V("div",{key:p,class:ke(l.value)},[ue(t.$slots,"default",{instance:p,index:b})],2))),128))],2))}}),Xn=["aria-label","aria-disabled"],Ha=Ye({compatConfig:{MODE:3},__name:"ArrowBtn",props:{ariaLabel:{},disabled:{type:Boolean}},emits:["activate","set-ref"],setup(e,{emit:a}){const n=a,l=X(null);return He(()=>n("set-ref",l)),(t,v)=>(A(),V("button",{ref_key:"elRef",ref:l,type:"button",class:"dp__btn dp--arrow-btn-nav",tabindex:"0","aria-label":t.ariaLabel,"aria-disabled":t.disabled||void 0,onClick:v[0]||(v[0]=p=>t.$emit("activate")),onKeydown:v[1]||(v[1]=p=>s(Ze)(p,()=>t.$emit("activate"),!0))},[fe("span",{class:ke(["dp__inner_nav",{dp__inner_nav_disabled:t.disabled}])},[ue(t.$slots,"default")],2)],40,Xn))}}),Wn={class:"dp--year-mode-picker"},Qn=["aria-label","data-test"],Cl=Ye({__name:"YearModePicker",props:{...oa,showYearPicker:{type:Boolean,default:!1},items:{type:Array,default:()=>[]},instance:{type:Number,default:0},year:{type:Number,default:0},isDisabled:{type:Function,default:()=>!1}},emits:["toggle-year-picker","year-select","handle-year"],setup(e,{emit:a}){const n=a,l=e,{showRightIcon:t,showLeftIcon:v}=mt(),{defaultedConfig:p,defaultedMultiCalendars:b,defaultedAriaLabels:c,defaultedTransitions:Y,defaultedUI:y}=Pe(l),{showTransition:h,transitionName:f}=Xa(Y),D=(R=!1,K)=>{n("toggle-year-picker",{flow:R,show:K})},C=R=>{n("year-select",R)},k=(R=!1)=>{n("handle-year",R)};return(R,K)=>{var ee,T,H,Q,O;return A(),V("div",Wn,[s(v)(s(b),e.instance)?(A(),Ae(Ha,{key:0,ref:"mpPrevIconRef","aria-label":(ee=s(c))==null?void 0:ee.prevYear,disabled:e.isDisabled(!1),class:ke((T=s(y))==null?void 0:T.navBtnPrev),onActivate:K[0]||(K[0]=S=>k(!1))},{default:ge(()=>[R.$slots["arrow-left"]?ue(R.$slots,"arrow-left",{key:0}):U("",!0),R.$slots["arrow-left"]?U("",!0):(A(),Ae(s(Yt),{key:1}))]),_:3},8,["aria-label","disabled","class"])):U("",!0),fe("button",{ref:"mpYearButtonRef",class:"dp__btn dp--year-select",type:"button","aria-label":(H=s(c))==null?void 0:H.openYearsOverlay,"data-test":`year-mode-btn-${e.instance}`,onClick:K[1]||(K[1]=()=>D(!1)),onKeydown:K[2]||(K[2]=Hl(()=>D(!1),["enter"]))},[R.$slots.year?ue(R.$slots,"year",{key:0,year:e.year}):U("",!0),R.$slots.year?U("",!0):(A(),V(_e,{key:1},[va(Ve(e.year),1)],64))],40,Qn),s(t)(s(b),e.instance)?(A(),Ae(Ha,{key:1,ref:"mpNextIconRef","aria-label":(Q=s(c))==null?void 0:Q.nextYear,disabled:e.isDisabled(!0),class:ke((O=s(y))==null?void 0:O.navBtnNext),onActivate:K[3]||(K[3]=S=>k(!0))},{default:ge(()=>[R.$slots["arrow-right"]?ue(R.$slots,"arrow-right",{key:0}):U("",!0),R.$slots["arrow-right"]?U("",!0):(A(),Ae(s(Et),{key:1}))]),_:3},8,["aria-label","disabled","class"])):U("",!0),la(La,{name:s(f)(e.showYearPicker),css:s(h)},{default:ge(()=>[e.showYearPicker?(A(),Ae(Ga,{key:0,items:e.items,"text-input":R.textInput,"esc-close":R.escClose,config:R.config,"is-last":R.autoApply&&!s(p).keepActionRow,"hide-navigation":R.hideNavigation,"aria-labels":R.ariaLabels,type:"year",onToggle:D,onSelected:K[4]||(K[4]=S=>C(S))},ze({"button-icon":ge(()=>[R.$slots["calendar-icon"]?ue(R.$slots,"calendar-icon",{key:0}):U("",!0),R.$slots["calendar-icon"]?U("",!0):(A(),Ae(s(Ya),{key:1}))]),_:2},[R.$slots["year-overlay-value"]?{name:"item",fn:ge(({item:S})=>[ue(R.$slots,"year-overlay-value",{text:S.text,value:S.value})]),key:"0"}:void 0]),1032,["items","text-input","esc-close","config","is-last","hide-navigation","aria-labels"])):U("",!0)]),_:3},8,["name","css"])])}}}),Jt=(e,a,n)=>{if(a.value&&Array.isArray(a.value))if(a.value.some(l=>De(e,l))){const l=a.value.filter(t=>!De(t,e));a.value=l.length?l:null}else(n&&+n>a.value.length||!n)&&a.value.push(e);else a.value=[e]},Zt=(e,a,n)=>{let l=e.value?e.value.slice():[];return l.length===2&&l[1]!==null&&(l=[]),l.length?Re(a,l[0])?(l.unshift(a),n("range-start",l[0]),n("range-start",l[1])):(l[1]=a,n("range-end",a)):(l=[a],n("range-start",a)),l},pt=(e,a,n,l)=>{e&&(e[0]&&e[1]&&n&&a("auto-apply"),e[0]&&!e[1]&&l&&n&&a("auto-apply"))},Ol=e=>{Array.isArray(e.value)&&e.value.length<=2&&e.range?e.modelValue.value=e.value.map(a=>Ge(F(a),e.timezone)):Array.isArray(e.value)||(e.modelValue.value=Ge(F(e.value),e.timezone))},Nl=(e,a,n,l)=>Array.isArray(a.value)&&(a.value.length===2||a.value.length===1&&l.value.partialRange)?l.value.fixedStart&&(Oe(e,a.value[0])||De(e,a.value[0]))?[a.value[0],e]:l.value.fixedEnd&&(Re(e,a.value[1])||De(e,a.value[1]))?[e,a.value[1]]:(n("invalid-fixed-range",e),a.value):[],Il=({multiCalendars:e,range:a,highlight:n,propDates:l,calendars:t,modelValue:v,props:p,filters:b,year:c,month:Y,emit:y})=>{const h=j(()=>jt(p.yearRange,p.locale,p.reverseYears)),f=X([!1]),D=j(()=>(N,te)=>{const se=xe(ra(new Date),{month:Y.value(N),year:c.value(N)}),ce=te?pl(se):ot(se);return Tl(ce,l.value.maxDate,l.value.minDate,p.preventMinMaxNavigation,te)}),C=()=>Array.isArray(v.value)&&e.value.solo&&v.value[1],k=()=>{for(let N=0;N<e.value.count;N++)if(N===0)t.value[N]=t.value[0];else if(N===e.value.count-1&&C())t.value[N]={month:be(v.value[1]),year:me(v.value[1])};else{const te=xe(F(),t.value[N-1]);t.value[N]={month:be(te),year:me(fl(te,1))}}},R=N=>{if(!N)return k();const te=xe(F(),t.value[N]);return t.value[0].year=me(hl(te,e.value.count-1)),k()},K=(N,te)=>{const se=rn(te,N);return a.value.showLastInRange&&se>1?te:N},ee=N=>p.focusStartDate||e.value.solo?N[0]:N[1]?K(N[0],N[1]):N[0],T=()=>{if(v.value){const N=Array.isArray(v.value)?ee(v.value):v.value;t.value[0]={month:be(N),year:me(N)}}},H=()=>{T(),e.value.count&&k()};ta(v,(N,te)=>{p.isTextInputDate&&JSON.stringify(N??{})!==JSON.stringify(te??{})&&H()}),He(()=>{H()});const Q=(N,te)=>{t.value[te].year=N,y("update-month-year",{instance:te,year:N,month:t.value[te].month}),e.value.count&&!e.value.solo&&R(te)},O=j(()=>N=>Ia(h.value,te=>{var se;const ce=c.value(N)===te.value,M=Ja(te.value,Ba(l.value.minDate),Ba(l.value.maxDate))||((se=b.value.years)==null?void 0:se.includes(c.value(N))),u=qt(n.value,te.value);return{active:ce,disabled:M,highlighted:u}})),S=(N,te)=>{Q(N,te),q(te)},ne=(N,te=!1)=>{if(!D.value(N,te)){const se=te?c.value(N)+1:c.value(N)-1;Q(se,N)}},q=(N,te=!1,se)=>{te||y("reset-flow"),se!==void 0?f.value[N]=se:f.value[N]=!f.value[N],f.value[N]?y("overlay-toggle",{open:!0,overlay:Fe.year}):(y("overlay-closed"),y("overlay-toggle",{open:!1,overlay:Fe.year}))};return{isDisabled:D,groupedYears:O,showYearPicker:f,selectYear:Q,toggleYearPicker:q,handleYearSelect:S,handleYear:ne}},er=(e,a)=>{const{defaultedMultiCalendars:n,defaultedAriaLabels:l,defaultedTransitions:t,defaultedConfig:v,defaultedRange:p,defaultedHighlight:b,propDates:c,defaultedTz:Y,defaultedFilters:y,defaultedMultiDates:h}=Pe(e),f=()=>{e.isTextInputDate&&H(me(F(e.startDate)),0)},{modelValue:D,year:C,month:k,calendars:R}=Wa(e,a,f),K=j(()=>bl(e.formatLocale,e.locale,e.monthNameFormat)),ee=X(null),{checkMinMaxRange:T}=wa(e),{selectYear:H,groupedYears:Q,showYearPicker:O,toggleYearPicker:S,handleYearSelect:ne,handleYear:q,isDisabled:N}=Il({modelValue:D,multiCalendars:n,range:p,highlight:b,calendars:R,year:C,propDates:c,month:k,filters:y,props:e,emit:a});He(()=>{e.startDate&&(D.value&&e.focusStartDate||!D.value)&&H(me(F(e.startDate)),0)});const te=r=>r?{month:be(r),year:me(r)}:{month:null,year:null},se=()=>D.value?Array.isArray(D.value)?D.value.map(r=>te(r)):te(D.value):te(),ce=(r,x)=>{const le=R.value[r],d=se();return Array.isArray(d)?d.some(re=>re.year===(le==null?void 0:le.year)&&re.month===x):(le==null?void 0:le.year)===d.year&&x===d.month},M=(r,x,le)=>{var d,re;const he=se();return Array.isArray(he)?C.value(x)===((d=he[le])==null?void 0:d.year)&&r===((re=he[le])==null?void 0:re.month):!1},u=(r,x)=>{if(p.value.enabled){const le=se();if(Array.isArray(D.value)&&Array.isArray(le)){const d=M(r,x,0)||M(r,x,1),re=ca(ra(F()),r,C.value(x));return dt(D.value,ee.value,re)&&!d}return!1}return!1},w=j(()=>r=>Ia(K.value,x=>{var le;const d=ce(r,x.value),re=Ja(x.value,Dl(C.value(r),c.value.minDate),Al(C.value(r),c.value.maxDate))||$n(c.value.disabledDates,C.value(r)).includes(x.value)||((le=y.value.months)==null?void 0:le.includes(x.value)),he=u(x.value,r),P=Sl(b.value,x.value,C.value(r));return{active:d,disabled:re,isBetween:he,highlighted:P}})),o=(r,x)=>ca(ra(F()),r,C.value(x)),E=(r,x)=>{const le=D.value?D.value:ra(new Date);D.value=ca(le,r,C.value(x)),a("auto-apply"),a("update-flow-step")},ae=(r,x)=>{const le=o(r,x);p.value.fixedEnd||p.value.fixedStart?D.value=Nl(le,D,a,p):D.value?T(le,D.value)&&(D.value=Zt(D,o(r,x),a)):D.value=[o(r,x)],Qe().then(()=>{pt(D.value,a,e.autoApply,e.modelAuto)})},ie=(r,x)=>{Jt(o(r,x),D,h.value.limit),a("auto-apply",!0)},pe=(r,x)=>(R.value[x].month=r,B(x,R.value[x].year,r),h.value.enabled?ie(r,x):p.value.enabled?ae(r,x):E(r,x)),m=(r,x)=>{H(r,x),B(x,r,null)},B=(r,x,le)=>{let d=le;if(!d&&d!==0){const re=se();d=Array.isArray(re)?re[r].month:re.month}a("update-month-year",{instance:r,year:x,month:d})};return{groupedMonths:w,groupedYears:Q,year:C,isDisabled:N,defaultedMultiCalendars:n,defaultedAriaLabels:l,defaultedTransitions:t,defaultedConfig:v,showYearPicker:O,modelValue:D,presetDate:(r,x)=>{Ol({value:r,modelValue:D,range:p.value.enabled,timezone:x?void 0:Y.value.timezone}),a("auto-apply")},setHoverDate:(r,x)=>{ee.value=o(r,x)},selectMonth:pe,selectYear:m,toggleYearPicker:S,handleYearSelect:ne,handleYear:q,getModelMonthYear:se}},ar=Ye({compatConfig:{MODE:3},__name:"MonthPicker",props:{...oa},emits:["update:internal-model-value","overlay-closed","reset-flow","range-start","range-end","auto-apply","update-month-year","update-flow-step","mount","invalid-fixed-range","overlay-toggle"],setup(e,{expose:a,emit:n}){const l=n,t=Sa(),v=We(t,"yearMode"),p=e;He(()=>{p.shadow||l("mount",null)});const{groupedMonths:b,groupedYears:c,year:Y,isDisabled:y,defaultedMultiCalendars:h,defaultedConfig:f,showYearPicker:D,modelValue:C,presetDate:k,setHoverDate:R,selectMonth:K,selectYear:ee,toggleYearPicker:T,handleYearSelect:H,handleYear:Q,getModelMonthYear:O}=er(p,l);return a({getSidebarProps:()=>({modelValue:C,year:Y,getModelMonthYear:O,selectMonth:K,selectYear:ee,handleYear:Q}),presetDate:k,toggleYearPicker:S=>T(0,S)}),(S,ne)=>(A(),Ae(vt,{"multi-calendars":s(h).count,collapse:S.collapse,stretch:""},{default:ge(({instance:q})=>[S.$slots["top-extra"]?ue(S.$slots,"top-extra",{key:0,value:S.internalModelValue}):U("",!0),S.$slots["month-year"]?ue(S.$slots,"month-year",Be(Le({key:1},{year:s(Y),months:s(b)(q),years:s(c)(q),selectMonth:s(K),selectYear:s(ee),instance:q}))):(A(),Ae(Ga,{key:2,items:s(b)(q),"arrow-navigation":S.arrowNavigation,"is-last":S.autoApply&&!s(f).keepActionRow,"esc-close":S.escClose,height:s(f).modeHeight,config:S.config,"no-overlay-focus":!!(S.noOverlayFocus||S.textInput),"use-relative":"",type:"month",onSelected:N=>s(K)(N,q),onHoverValue:N=>s(R)(N,q)},ze({header:ge(()=>[la(Cl,Le(S.$props,{items:s(c)(q),instance:q,"show-year-picker":s(D)[q],year:s(Y)(q),"is-disabled":N=>s(y)(q,N),onHandleYear:N=>s(Q)(q,N),onYearSelect:N=>s(H)(N,q),onToggleYearPicker:N=>s(T)(q,N==null?void 0:N.flow,N==null?void 0:N.show)}),ze({_:2},[Me(s(v),(N,te)=>({name:N,fn:ge(se=>[ue(S.$slots,N,Be(Je(se)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),_:2},[S.$slots["month-overlay-value"]?{name:"item",fn:ge(({item:N})=>[ue(S.$slots,"month-overlay-value",{text:N.text,value:N.value})]),key:"0"}:void 0]),1032,["items","arrow-navigation","is-last","esc-close","height","config","no-overlay-focus","onSelected","onHoverValue"]))]),_:3},8,["multi-calendars","collapse"]))}}),tr=(e,a)=>{const n=()=>{e.isTextInputDate&&(y.value=me(F(e.startDate)))},{modelValue:l}=Wa(e,a,n),t=X(null),{defaultedHighlight:v,defaultedMultiDates:p,defaultedFilters:b,defaultedRange:c,propDates:Y}=Pe(e),y=X();He(()=>{e.startDate&&(l.value&&e.focusStartDate||!l.value)&&(y.value=me(F(e.startDate)))});const h=k=>Array.isArray(l.value)?l.value.some(R=>me(R)===k):l.value?me(l.value)===k:!1,f=k=>c.value.enabled&&Array.isArray(l.value)?dt(l.value,t.value,C(k)):!1,D=j(()=>Ia(jt(e.yearRange,e.locale,e.reverseYears),k=>{const R=h(k.value),K=Ja(k.value,Ba(Y.value.minDate),Ba(Y.value.maxDate))||b.value.years.includes(k.value),ee=f(k.value)&&!R,T=qt(v.value,k.value);return{active:R,disabled:K,isBetween:ee,highlighted:T}})),C=k=>ua(ra(ot(new Date)),k);return{groupedYears:D,modelValue:l,focusYear:y,setHoverValue:k=>{t.value=ua(ra(new Date),k)},selectYear:k=>{var R;if(a("update-month-year",{instance:0,year:k}),p.value.enabled)return l.value?Array.isArray(l.value)&&(((R=l.value)==null?void 0:R.map(K=>me(K))).includes(k)?l.value=l.value.filter(K=>me(K)!==k):l.value.push(ua(Ue(F()),k))):l.value=[ua(Ue(ot(F())),k)],a("auto-apply",!0);c.value.enabled?(l.value=Zt(l,C(k),a),Qe().then(()=>{pt(l.value,a,e.autoApply,e.modelAuto)})):(l.value=C(k),a("auto-apply"))}}},lr=Ye({compatConfig:{MODE:3},__name:"YearPicker",props:{...oa},emits:["update:internal-model-value","reset-flow","range-start","range-end","auto-apply","update-month-year"],setup(e,{expose:a,emit:n}){const l=n,t=e,{groupedYears:v,modelValue:p,focusYear:b,selectYear:c,setHoverValue:Y}=tr(t,l),{defaultedConfig:y}=Pe(t);return a({getSidebarProps:()=>({modelValue:p,selectYear:c})}),(h,f)=>(A(),V("div",null,[h.$slots["top-extra"]?ue(h.$slots,"top-extra",{key:0,value:h.internalModelValue}):U("",!0),h.$slots["month-year"]?ue(h.$slots,"month-year",Be(Le({key:1},{years:s(v),selectYear:s(c)}))):(A(),Ae(Ga,{key:2,items:s(v),"is-last":h.autoApply&&!s(y).keepActionRow,height:s(y).modeHeight,config:h.config,"no-overlay-focus":!!(h.noOverlayFocus||h.textInput),"focus-value":s(b),type:"year","use-relative":"",onSelected:s(c),onHoverValue:s(Y)},ze({_:2},[h.$slots["year-overlay-value"]?{name:"item",fn:ge(({item:D})=>[ue(h.$slots,"year-overlay-value",{text:D.text,value:D.value})]),key:"0"}:void 0]),1032,["items","is-last","height","config","no-overlay-focus","focus-value","onSelected","onHoverValue"]))]))}}),nr={key:0,class:"dp__time_input"},rr=["data-test","aria-label","onKeydown","onClick","onMousedown"],or=fe("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1),ir=fe("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1),ur=["aria-label","disabled","data-test","onKeydown","onClick"],sr=["data-test","aria-label","onKeydown","onClick","onMousedown"],dr=fe("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1),cr=fe("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1),vr={key:0},pr=["aria-label"],mr=Ye({compatConfig:{MODE:3},__name:"TimeInput",props:{hours:{type:Number,default:0},minutes:{type:Number,default:0},seconds:{type:Number,default:0},closeTimePickerBtn:{type:Object,default:null},order:{type:Number,default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},...oa},emits:["set-hours","set-minutes","update:hours","update:minutes","update:seconds","reset-flow","mounted","overlay-closed","overlay-opened","am-pm-change"],setup(e,{expose:a,emit:n}){const l=n,t=e,{setTimePickerElements:v,setTimePickerBackRef:p}=ka(),{defaultedAriaLabels:b,defaultedTransitions:c,defaultedFilters:Y,defaultedConfig:y,defaultedRange:h}=Pe(t),{transitionName:f,showTransition:D}=Xa(c),C=Za({hours:!1,minutes:!1,seconds:!1}),k=X("AM"),R=X(null),K=X([]),ee=X();He(()=>{l("mounted")});const T=i=>xe(new Date,{hours:i.hours,minutes:i.minutes,seconds:t.enableSeconds?i.seconds:0,milliseconds:0}),H=j(()=>i=>w(i,t[i])||O(i,t[i])),Q=j(()=>({hours:t.hours,minutes:t.minutes,seconds:t.seconds})),O=(i,I)=>h.value.enabled&&!h.value.disableTimeRangeValidation?!t.validateTime(i,I):!1,S=(i,I)=>{if(h.value.enabled&&!h.value.disableTimeRangeValidation){const J=I?+t[`${i}Increment`]:-+t[`${i}Increment`],z=t[i]+J;return!t.validateTime(i,z)}return!1},ne=j(()=>i=>!pe(+t[i]+ +t[`${i}Increment`],i)||S(i,!0)),q=j(()=>i=>!pe(+t[i]-+t[`${i}Increment`],i)||S(i,!1)),N=(i,I)=>cl(xe(F(),i),I),te=(i,I)=>nn(xe(F(),i),I),se=j(()=>({dp__time_col:!0,dp__time_col_block:!t.timePickerInline,dp__time_col_reg_block:!t.enableSeconds&&t.is24&&!t.timePickerInline,dp__time_col_reg_inline:!t.enableSeconds&&t.is24&&t.timePickerInline,dp__time_col_reg_with_button:!t.enableSeconds&&!t.is24,dp__time_col_sec:t.enableSeconds&&t.is24,dp__time_col_sec_with_button:t.enableSeconds&&!t.is24})),ce=j(()=>{const i=[{type:"hours"}];return t.enableMinutes&&i.push({type:"",separator:!0},{type:"minutes"}),t.enableSeconds&&i.push({type:"",separator:!0},{type:"seconds"}),i}),M=j(()=>ce.value.filter(i=>!i.separator)),u=j(()=>i=>{if(i==="hours"){const I=d(+t.hours);return{text:I<10?`0${I}`:`${I}`,value:I}}return{text:t[i]<10?`0${t[i]}`:`${t[i]}`,value:t[i]}}),w=(i,I)=>{var J;if(!t.disabledTimesConfig)return!1;const z=t.disabledTimesConfig(t.order,i==="hours"?I:void 0);return z[i]?!!((J=z[i])!=null&&J.includes(I)):!0},o=(i,I)=>I!=="hours"||k.value==="AM"?i:i+12,E=i=>{const I=t.is24?24:12,J=i==="hours"?I:60,z=+t[`${i}GridIncrement`],L=i==="hours"&&!t.is24?z:0,we=[];for(let _=L;_<J;_+=z)we.push({value:t.is24?_:o(_,i),text:_<10?`0${_}`:`${_}`});return i==="hours"&&!t.is24&&we.unshift({value:k.value==="PM"?12:0,text:"12"}),Ia(we,_=>({active:!1,disabled:Y.value.times[i].includes(_.value)||!pe(_.value,i)||w(i,_.value)||O(i,_.value)}))},ae=i=>i>=0?i:59,ie=i=>i>=0?i:23,pe=(i,I)=>{const J=t.minTime?T(At(t.minTime)):null,z=t.maxTime?T(At(t.maxTime)):null,L=T(At(Q.value,I,I==="minutes"||I==="seconds"?ae(i):ie(i)));return J&&z?(Ua(L,z)||Ca(L,z))&&(Oa(L,J)||Ca(L,J)):J?Oa(L,J)||Ca(L,J):z?Ua(L,z)||Ca(L,z):!0},m=i=>t[`no${i[0].toUpperCase()+i.slice(1)}Overlay`],B=i=>{m(i)||(C[i]=!C[i],C[i]?l("overlay-opened",i):l("overlay-closed",i))},r=i=>i==="hours"?pa:i==="minutes"?_a:Na,x=()=>{ee.value&&clearTimeout(ee.value)},le=(i,I=!0,J)=>{const z=I?N:te,L=I?+t[`${i}Increment`]:-+t[`${i}Increment`];pe(+t[i]+L,i)&&l(`update:${i}`,r(i)(z({[i]:+t[i]},{[i]:+t[`${i}Increment`]}))),!(J!=null&&J.keyboard)&&y.value.timeArrowHoldThreshold&&(ee.value=setTimeout(()=>{le(i,I)},y.value.timeArrowHoldThreshold))},d=i=>t.is24?i:(i>=12?k.value="PM":k.value="AM",vn(i)),re=()=>{k.value==="PM"?(k.value="AM",l("update:hours",t.hours-12)):(k.value="PM",l("update:hours",t.hours+12)),l("am-pm-change",k.value)},he=i=>{C[i]=!0},P=(i,I,J)=>{if(i&&t.arrowNavigation){Array.isArray(K.value[I])?K.value[I][J]=i:K.value[I]=[i];const z=K.value.reduce((L,we)=>we.map((_,W)=>[...L[W]||[],we[W]]),[]);p(t.closeTimePickerBtn),R.value&&(z[1]=z[1].concat(R.value)),v(z,t.order)}},ye=(i,I)=>(B(i),l(`update:${i}`,I));return a({openChildCmp:he}),(i,I)=>{var J;return i.disabled?U("",!0):(A(),V("div",nr,[(A(!0),V(_e,null,Me(ce.value,(z,L)=>{var we,_,W;return A(),V("div",{key:L,class:ke(se.value)},[z.separator?(A(),V(_e,{key:0},[va(" : ")],64)):(A(),V(_e,{key:1},[fe("button",{ref_for:!0,ref:ve=>P(ve,L,0),type:"button",class:ke({dp__btn:!0,dp__inc_dec_button:!i.timePickerInline,dp__inc_dec_button_inline:i.timePickerInline,dp__tp_inline_btn_top:i.timePickerInline,dp__inc_dec_button_disabled:ne.value(z.type)}),"data-test":`${z.type}-time-inc-btn-${t.order}`,"aria-label":(we=s(b))==null?void 0:we.incrementValue(z.type),tabindex:"0",onKeydown:ve=>s(Ze)(ve,()=>le(z.type,!0,{keyboard:!0}),!0),onClick:ve=>s(y).timeArrowHoldThreshold?void 0:le(z.type,!0),onMousedown:ve=>s(y).timeArrowHoldThreshold?le(z.type,!0):void 0,onMouseup:x},[t.timePickerInline?(A(),V(_e,{key:1},[i.$slots["tp-inline-arrow-up"]?ue(i.$slots,"tp-inline-arrow-up",{key:0}):(A(),V(_e,{key:1},[or,ir],64))],64)):(A(),V(_e,{key:0},[i.$slots["arrow-up"]?ue(i.$slots,"arrow-up",{key:0}):U("",!0),i.$slots["arrow-up"]?U("",!0):(A(),Ae(s(Vt),{key:1}))],64))],42,rr),fe("button",{ref_for:!0,ref:ve=>P(ve,L,1),type:"button","aria-label":(_=s(b))==null?void 0:_.openTpOverlay(z.type),class:ke({dp__time_display:!0,dp__time_display_block:!i.timePickerInline,dp__time_display_inline:i.timePickerInline,"dp--time-invalid":H.value(z.type),"dp--time-overlay-btn":!H.value(z.type)}),disabled:m(z.type),tabindex:"0","data-test":`${z.type}-toggle-overlay-btn-${t.order}`,onKeydown:ve=>s(Ze)(ve,()=>B(z.type),!0),onClick:ve=>B(z.type)},[i.$slots[z.type]?ue(i.$slots,z.type,{key:0,text:u.value(z.type).text,value:u.value(z.type).value}):U("",!0),i.$slots[z.type]?U("",!0):(A(),V(_e,{key:1},[va(Ve(u.value(z.type).text),1)],64))],42,ur),fe("button",{ref_for:!0,ref:ve=>P(ve,L,2),type:"button",class:ke({dp__btn:!0,dp__inc_dec_button:!i.timePickerInline,dp__inc_dec_button_inline:i.timePickerInline,dp__tp_inline_btn_bottom:i.timePickerInline,dp__inc_dec_button_disabled:q.value(z.type)}),"data-test":`${z.type}-time-dec-btn-${t.order}`,"aria-label":(W=s(b))==null?void 0:W.decrementValue(z.type),tabindex:"0",onKeydown:ve=>s(Ze)(ve,()=>le(z.type,!1,{keyboard:!0}),!0),onClick:ve=>s(y).timeArrowHoldThreshold?void 0:le(z.type,!1),onMousedown:ve=>s(y).timeArrowHoldThreshold?le(z.type,!1):void 0,onMouseup:x},[t.timePickerInline?(A(),V(_e,{key:1},[i.$slots["tp-inline-arrow-down"]?ue(i.$slots,"tp-inline-arrow-down",{key:0}):(A(),V(_e,{key:1},[dr,cr],64))],64)):(A(),V(_e,{key:0},[i.$slots["arrow-down"]?ue(i.$slots,"arrow-down",{key:0}):U("",!0),i.$slots["arrow-down"]?U("",!0):(A(),Ae(s(zt),{key:1}))],64))],42,sr)],64))],2)}),128)),i.is24?U("",!0):(A(),V("div",vr,[i.$slots["am-pm-button"]?ue(i.$slots,"am-pm-button",{key:0,toggle:re,value:k.value}):U("",!0),i.$slots["am-pm-button"]?U("",!0):(A(),V("button",{key:1,ref_key:"amPmButton",ref:R,type:"button",class:"dp__pm_am_button",role:"button","aria-label":(J=s(b))==null?void 0:J.amPmButton,tabindex:"0",onClick:re,onKeydown:I[0]||(I[0]=z=>s(Ze)(z,()=>re(),!0))},Ve(k.value),41,pr))])),(A(!0),V(_e,null,Me(M.value,(z,L)=>(A(),Ae(La,{key:L,name:s(f)(C[z.type]),css:s(D)},{default:ge(()=>[C[z.type]?(A(),Ae(Ga,{key:0,items:E(z.type),"is-last":i.autoApply&&!s(y).keepActionRow,"esc-close":i.escClose,type:z.type,"text-input":i.textInput,config:i.config,"arrow-navigation":i.arrowNavigation,"aria-labels":i.ariaLabels,onSelected:we=>ye(z.type,we),onToggle:we=>B(z.type),onResetFlow:I[1]||(I[1]=we=>i.$emit("reset-flow"))},ze({"button-icon":ge(()=>[i.$slots["clock-icon"]?ue(i.$slots,"clock-icon",{key:0}):U("",!0),i.$slots["clock-icon"]?U("",!0):(A(),Ae(st(i.timePickerInline?s(Ya):s(Ft)),{key:1}))]),_:2},[i.$slots[`${z.type}-overlay-value`]?{name:"item",fn:ge(({item:we})=>[ue(i.$slots,`${z.type}-overlay-value`,{text:we.text,value:we.value})]),key:"0"}:void 0,i.$slots[`${z.type}-overlay-header`]?{name:"header",fn:ge(()=>[ue(i.$slots,`${z.type}-overlay-header`,{toggle:()=>B(z.type)})]),key:"1"}:void 0]),1032,["items","is-last","esc-close","type","text-input","config","arrow-navigation","aria-labels","onSelected","onToggle"])):U("",!0)]),_:2},1032,["name","css"]))),128))]))}}}),yr={class:"dp--tp-wrap"},fr=["aria-label","tabindex"],hr=["tabindex"],gr=["aria-label"],Bl=Ye({compatConfig:{MODE:3},__name:"TimePicker",props:{hours:{type:[Number,Array],default:0},minutes:{type:[Number,Array],default:0},seconds:{type:[Number,Array],default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},...oa},emits:["update:hours","update:minutes","update:seconds","mount","reset-flow","overlay-opened","overlay-closed","am-pm-change"],setup(e,{expose:a,emit:n}){const l=n,t=e,{buildMatrix:v,setTimePicker:p}=ka(),b=Sa(),{defaultedTransitions:c,defaultedAriaLabels:Y,defaultedTextInput:y,defaultedConfig:h,defaultedRange:f}=Pe(t),{transitionName:D,showTransition:C}=Xa(c),{hideNavigationButtons:k}=mt(),R=X(null),K=X(null),ee=X([]),T=X(null);He(()=>{l("mount"),!t.timePicker&&t.arrowNavigation?v([Ne(R.value)],"time"):p(!0,t.timePicker)});const H=j(()=>f.value.enabled&&t.modelAuto?_l(t.internalModelValue):!0),Q=X(!1),O=o=>({hours:Array.isArray(t.hours)?t.hours[o]:t.hours,minutes:Array.isArray(t.minutes)?t.minutes[o]:t.minutes,seconds:Array.isArray(t.seconds)?t.seconds[o]:t.seconds}),S=j(()=>{const o=[];if(f.value.enabled)for(let E=0;E<2;E++)o.push(O(E));else o.push(O(0));return o}),ne=(o,E=!1,ae="")=>{E||l("reset-flow"),Q.value=o,l(o?"overlay-opened":"overlay-closed",Fe.time),t.arrowNavigation&&p(o),Qe(()=>{ae!==""&&ee.value[0]&&ee.value[0].openChildCmp(ae)})},q=j(()=>({dp__btn:!0,dp__button:!0,dp__button_bottom:t.autoApply&&!h.value.keepActionRow})),N=We(b,"timePicker"),te=(o,E,ae)=>f.value.enabled?E===0?[o,S.value[1][ae]]:[S.value[0][ae],o]:o,se=o=>{l("update:hours",o)},ce=o=>{l("update:minutes",o)},M=o=>{l("update:seconds",o)},u=()=>{if(T.value&&!y.value.enabled&&!t.noOverlayFocus){const o=kl(T.value);o&&o.focus({preventScroll:!0})}},w=o=>{l("overlay-closed",o)};return a({toggleTimePicker:ne}),(o,E)=>{var ae;return A(),V("div",yr,[!o.timePicker&&!o.timePickerInline?lt((A(),V("button",{key:0,ref_key:"openTimePickerBtn",ref:R,type:"button",class:ke(q.value),"aria-label":(ae=s(Y))==null?void 0:ae.openTimePicker,tabindex:o.noOverlayFocus?void 0:0,"data-test":"open-time-picker-btn",onKeydown:E[0]||(E[0]=ie=>s(Ze)(ie,()=>ne(!0))),onClick:E[1]||(E[1]=ie=>ne(!0))},[o.$slots["clock-icon"]?ue(o.$slots,"clock-icon",{key:0}):U("",!0),o.$slots["clock-icon"]?U("",!0):(A(),Ae(s(Ft),{key:1}))],42,fr)),[[nt,!s(k)(o.hideNavigation,"time")]]):U("",!0),la(La,{name:s(D)(Q.value),css:s(C)&&!o.timePickerInline},{default:ge(()=>{var ie;return[Q.value||o.timePicker||o.timePickerInline?(A(),V("div",{key:0,ref_key:"overlayRef",ref:T,class:ke({dp__overlay:!o.timePickerInline,"dp--overlay-absolute":!t.timePicker&&!o.timePickerInline,"dp--overlay-relative":t.timePicker}),style:aa(o.timePicker?{height:`${s(h).modeHeight}px`}:void 0),tabindex:o.timePickerInline?void 0:0},[fe("div",{class:ke(o.timePickerInline?"dp__time_picker_inline_container":"dp__overlay_container dp__container_flex dp__time_picker_overlay_container"),style:{display:"flex"}},[o.$slots["time-picker-overlay"]?ue(o.$slots,"time-picker-overlay",{key:0,hours:e.hours,minutes:e.minutes,seconds:e.seconds,setHours:se,setMinutes:ce,setSeconds:M}):U("",!0),o.$slots["time-picker-overlay"]?U("",!0):(A(),V("div",{key:1,class:ke(o.timePickerInline?"dp__flex":"dp__overlay_row dp__flex_row")},[(A(!0),V(_e,null,Me(S.value,(pe,m)=>lt((A(),Ae(mr,Le({key:m,ref_for:!0},{...o.$props,order:m,hours:pe.hours,minutes:pe.minutes,seconds:pe.seconds,closeTimePickerBtn:K.value,disabledTimesConfig:e.disabledTimesConfig,disabled:m===0?o.fixedStart:o.fixedEnd},{ref_for:!0,ref_key:"timeInputRefs",ref:ee,"validate-time":(B,r)=>e.validateTime(B,te(r,m,B)),"onUpdate:hours":B=>se(te(B,m,"hours")),"onUpdate:minutes":B=>ce(te(B,m,"minutes")),"onUpdate:seconds":B=>M(te(B,m,"seconds")),onMounted:u,onOverlayClosed:w,onOverlayOpened:E[2]||(E[2]=B=>o.$emit("overlay-opened",B)),onAmPmChange:E[3]||(E[3]=B=>o.$emit("am-pm-change",B))}),ze({_:2},[Me(s(N),(B,r)=>({name:B,fn:ge(x=>[ue(o.$slots,B,Le({ref_for:!0},x))])}))]),1040,["validate-time","onUpdate:hours","onUpdate:minutes","onUpdate:seconds"])),[[nt,m===0?!0:H.value]])),128))],2)),!o.timePicker&&!o.timePickerInline?lt((A(),V("button",{key:2,ref_key:"closeTimePickerBtn",ref:K,type:"button",class:ke(q.value),"aria-label":(ie=s(Y))==null?void 0:ie.closeTimePicker,tabindex:"0",onKeydown:E[4]||(E[4]=pe=>s(Ze)(pe,()=>ne(!1))),onClick:E[5]||(E[5]=pe=>ne(!1))},[o.$slots["calendar-icon"]?ue(o.$slots,"calendar-icon",{key:0}):U("",!0),o.$slots["calendar-icon"]?U("",!0):(A(),Ae(s(Ya),{key:1}))],42,gr)),[[nt,!s(k)(o.hideNavigation,"time")]]):U("",!0)],2)],14,hr)):U("",!0)]}),_:3},8,["name","css"])])}}}),Ll=(e,a,n,l)=>{const{defaultedRange:t}=Pe(e),v=(T,H)=>Array.isArray(a[T])?a[T][H]:a[T],p=T=>e.enableSeconds?Array.isArray(a.seconds)?a.seconds[T]:a.seconds:0,b=(T,H)=>T?H!==void 0?ba(T,v("hours",H),v("minutes",H),p(H)):ba(T,a.hours,a.minutes,p()):ml(F(),p(H)),c=(T,H)=>{a[T]=H},Y=j(()=>e.modelAuto&&t.value.enabled?Array.isArray(n.value)?n.value.length>1:!1:t.value.enabled),y=(T,H)=>{const Q=Object.fromEntries(Object.keys(a).map(O=>O===T?[O,H]:[O,a[O]].slice()));if(Y.value&&!t.value.disableTimeRangeValidation){const O=ne=>n.value?ba(n.value[ne],Q.hours[ne],Q.minutes[ne],Q.seconds[ne]):null,S=ne=>yl(n.value[ne],0);return!(De(O(0),O(1))&&(Oa(O(0),S(1))||Ua(O(1),S(0))))}return!0},h=(T,H)=>{y(T,H)&&(c(T,H),l&&l())},f=T=>{h("hours",T)},D=T=>{h("minutes",T)},C=T=>{h("seconds",T)},k=(T,H,Q,O)=>{H&&f(T),!H&&!Q&&D(T),Q&&C(T),n.value&&O(n.value)},R=T=>{if(T){const H=Array.isArray(T),Q=H?[+T[0].hours,+T[1].hours]:+T.hours,O=H?[+T[0].minutes,+T[1].minutes]:+T.minutes,S=H?[+T[0].seconds,+T[1].seconds]:+T.seconds;c("hours",Q),c("minutes",O),e.enableSeconds&&c("seconds",S)}},K=(T,H)=>{const Q={hours:Array.isArray(a.hours)?a.hours[T]:a.hours,disabledArr:[]};return(H||H===0)&&(Q.hours=H),Array.isArray(e.disabledTimes)&&(Q.disabledArr=t.value.enabled&&Array.isArray(e.disabledTimes[T])?e.disabledTimes[T]:e.disabledTimes),Q},ee=j(()=>(T,H)=>{var Q;if(Array.isArray(e.disabledTimes)){const{disabledArr:O,hours:S}=K(T,H),ne=O.filter(q=>+q.hours===S);return((Q=ne[0])==null?void 0:Q.minutes)==="*"?{hours:[S],minutes:void 0,seconds:void 0}:{hours:[],minutes:(ne==null?void 0:ne.map(q=>+q.minutes))??[],seconds:(ne==null?void 0:ne.map(q=>q.seconds?+q.seconds:void 0))??[]}}return{hours:[],minutes:[],seconds:[]}});return{setTime:c,updateHours:f,updateMinutes:D,updateSeconds:C,getSetDateTime:b,updateTimeValues:k,getSecondsValue:p,assignStartTime:R,validateTime:y,disabledTimesConfig:ee}},br=(e,a)=>{const n=()=>{e.isTextInputDate&&H()},{modelValue:l,time:t}=Wa(e,a,n),{defaultedStartTime:v,defaultedRange:p,defaultedTz:b}=Pe(e),{updateTimeValues:c,getSetDateTime:Y,setTime:y,assignStartTime:h,disabledTimesConfig:f,validateTime:D}=Ll(e,t,l,C);function C(){a("update-flow-step")}const k=O=>{const{hours:S,minutes:ne,seconds:q}=O;return{hours:+S,minutes:+ne,seconds:q?+q:0}},R=()=>{if(e.startTime){if(Array.isArray(e.startTime)){const S=k(e.startTime[0]),ne=k(e.startTime[1]);return[xe(F(),S),xe(F(),ne)]}const O=k(e.startTime);return xe(F(),O)}return p.value.enabled?[null,null]:null},K=()=>{if(p.value.enabled){const[O,S]=R();l.value=[Ge(Y(O,0),b.value.timezone),Ge(Y(S,1),b.value.timezone)]}else l.value=Ge(Y(R()),b.value.timezone)},ee=O=>Array.isArray(O)?[Ma(F(O[0])),Ma(F(O[1]))]:[Ma(O??F())],T=(O,S,ne)=>{y("hours",O),y("minutes",S),y("seconds",e.enableSeconds?ne:0)},H=()=>{const[O,S]=ee(l.value);return p.value.enabled?T([O.hours,S.hours],[O.minutes,S.minutes],[O.seconds,S.seconds]):T(O.hours,O.minutes,O.seconds)};He(()=>{if(!e.shadow)return h(v.value),l.value?H():K()});const Q=()=>{Array.isArray(l.value)?l.value=l.value.map((O,S)=>O&&Y(O,S)):l.value=Y(l.value),a("time-update")};return{modelValue:l,time:t,disabledTimesConfig:f,updateTime:(O,S=!0,ne=!1)=>{c(O,S,ne,Q)},validateTime:D}},_r=Ye({compatConfig:{MODE:3},__name:"TimePickerSolo",props:{...oa},emits:["update:internal-model-value","time-update","am-pm-change","mount","reset-flow","update-flow-step","overlay-toggle"],setup(e,{expose:a,emit:n}){const l=n,t=e,v=Sa(),p=We(v,"timePicker"),b=X(null),{time:c,modelValue:Y,disabledTimesConfig:y,updateTime:h,validateTime:f}=br(t,l);return He(()=>{t.shadow||l("mount",null)}),a({getSidebarProps:()=>({modelValue:Y,time:c,updateTime:h}),toggleTimePicker:(D,C=!1,k="")=>{var R;(R=b.value)==null||R.toggleTimePicker(D,C,k)}}),(D,C)=>(A(),Ae(vt,{"multi-calendars":0,stretch:""},{default:ge(()=>[la(Bl,Le({ref_key:"tpRef",ref:b},D.$props,{hours:s(c).hours,minutes:s(c).minutes,seconds:s(c).seconds,"internal-model-value":D.internalModelValue,"disabled-times-config":s(y),"validate-time":s(f),"onUpdate:hours":C[0]||(C[0]=k=>s(h)(k)),"onUpdate:minutes":C[1]||(C[1]=k=>s(h)(k,!1)),"onUpdate:seconds":C[2]||(C[2]=k=>s(h)(k,!1,!0)),onAmPmChange:C[3]||(C[3]=k=>D.$emit("am-pm-change",k)),onResetFlow:C[4]||(C[4]=k=>D.$emit("reset-flow")),onOverlayClosed:C[5]||(C[5]=k=>D.$emit("overlay-toggle",{open:!1,overlay:k})),onOverlayOpened:C[6]||(C[6]=k=>D.$emit("overlay-toggle",{open:!0,overlay:k}))}),ze({_:2},[Me(s(p),(k,R)=>({name:k,fn:ge(K=>[ue(D.$slots,k,Be(Je(K)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"])]),_:3}))}}),kr={class:"dp--header-wrap"},wr={key:0,class:"dp__month_year_wrap"},Dr={key:0},Ar={class:"dp__month_year_wrap"},$r=["aria-label","data-test","onClick","onKeydown"],xr=Ye({compatConfig:{MODE:3},__name:"DpHeader",props:{month:{type:Number,default:0},year:{type:Number,default:0},instance:{type:Number,default:0},years:{type:Array,default:()=>[]},months:{type:Array,default:()=>[]},...oa},emits:["update-month-year","mount","reset-flow","overlay-closed","overlay-opened"],setup(e,{expose:a,emit:n}){const l=n,t=e,{defaultedTransitions:v,defaultedAriaLabels:p,defaultedMultiCalendars:b,defaultedFilters:c,defaultedConfig:Y,defaultedHighlight:y,propDates:h,defaultedUI:f}=Pe(t),{transitionName:D,showTransition:C}=Xa(v),{buildMatrix:k}=ka(),{handleMonthYearChange:R,isDisabled:K,updateMonthYear:ee}=jn(t,l),{showLeftIcon:T,showRightIcon:H}=mt(),Q=X(!1),O=X(!1),S=X([null,null,null,null]);He(()=>{l("mount")});const ne=m=>({get:()=>t[m],set:B=>{const r=m===na.month?na.year:na.month;l("update-month-year",{[m]:B,[r]:t[r]}),m===na.month?w(!0):o(!0)}}),q=j(ne(na.month)),N=j(ne(na.year)),te=j(()=>m=>({month:t.month,year:t.year,items:m===na.month?t.months:t.years,instance:t.instance,updateMonthYear:ee,toggle:m===na.month?w:o})),se=j(()=>t.months.find(B=>B.value===t.month)||{text:"",value:0}),ce=j(()=>Ia(t.months,m=>{const B=t.month===m.value,r=Ja(m.value,Dl(t.year,h.value.minDate),Al(t.year,h.value.maxDate))||c.value.months.includes(m.value),x=Sl(y.value,m.value,t.year);return{active:B,disabled:r,highlighted:x}})),M=j(()=>Ia(t.years,m=>{const B=t.year===m.value,r=Ja(m.value,Ba(h.value.minDate),Ba(h.value.maxDate))||c.value.years.includes(m.value),x=qt(y.value,m.value);return{active:B,disabled:r,highlighted:x}})),u=(m,B,r)=>{r!==void 0?m.value=r:m.value=!m.value,m.value?l("overlay-opened",B):l("overlay-closed",B)},w=(m=!1,B)=>{E(m),u(Q,Fe.month,B)},o=(m=!1,B)=>{E(m),u(O,Fe.year,B)},E=m=>{m||l("reset-flow")},ae=(m,B)=>{t.arrowNavigation&&(S.value[B]=Ne(m),k(S.value,"monthYear"))},ie=j(()=>{var m,B;return[{type:na.month,index:1,toggle:w,modelValue:q.value,updateModelValue:r=>q.value=r,text:se.value.text,showSelectionGrid:Q.value,items:ce.value,ariaLabel:(m=p.value)==null?void 0:m.openMonthsOverlay},{type:na.year,index:2,toggle:o,modelValue:N.value,updateModelValue:r=>N.value=r,text:wl(t.year,t.locale),showSelectionGrid:O.value,items:M.value,ariaLabel:(B=p.value)==null?void 0:B.openYearsOverlay}]}),pe=j(()=>t.disableYearSelect?[ie.value[0]]:t.yearFirst?[...ie.value].reverse():ie.value);return a({toggleMonthPicker:w,toggleYearPicker:o,handleMonthYearChange:R}),(m,B)=>{var r,x,le,d,re,he;return A(),V("div",kr,[m.$slots["month-year"]?(A(),V("div",wr,[ue(m.$slots,"month-year",Be(Je({month:e.month,year:e.year,months:e.months,years:e.years,updateMonthYear:s(ee),handleMonthYearChange:s(R),instance:e.instance})))])):(A(),V(_e,{key:1},[m.$slots["top-extra"]?(A(),V("div",Dr,[ue(m.$slots,"top-extra",{value:m.internalModelValue})])):U("",!0),fe("div",Ar,[s(T)(s(b),e.instance)&&!m.vertical?(A(),Ae(Ha,{key:0,"aria-label":(r=s(p))==null?void 0:r.prevMonth,disabled:s(K)(!1),class:ke((x=s(f))==null?void 0:x.navBtnPrev),onActivate:B[0]||(B[0]=P=>s(R)(!1,!0)),onSetRef:B[1]||(B[1]=P=>ae(P,0))},{default:ge(()=>[m.$slots["arrow-left"]?ue(m.$slots,"arrow-left",{key:0}):U("",!0),m.$slots["arrow-left"]?U("",!0):(A(),Ae(s(Yt),{key:1}))]),_:3},8,["aria-label","disabled","class"])):U("",!0),fe("div",{class:ke(["dp__month_year_wrap",{dp__year_disable_select:m.disableYearSelect}])},[(A(!0),V(_e,null,Me(pe.value,(P,ye)=>(A(),V(_e,{key:P.type},[fe("button",{ref_for:!0,ref:i=>ae(i,ye+1),type:"button",class:"dp__btn dp__month_year_select",tabindex:"0","aria-label":P.ariaLabel,"data-test":`${P.type}-toggle-overlay-${e.instance}`,onClick:P.toggle,onKeydown:i=>s(Ze)(i,()=>P.toggle(),!0)},[m.$slots[P.type]?ue(m.$slots,P.type,{key:0,text:P.text,value:t[P.type]}):U("",!0),m.$slots[P.type]?U("",!0):(A(),V(_e,{key:1},[va(Ve(P.text),1)],64))],40,$r),la(La,{name:s(D)(P.showSelectionGrid),css:s(C)},{default:ge(()=>[P.showSelectionGrid?(A(),Ae(Ga,{key:0,items:P.items,"arrow-navigation":m.arrowNavigation,"hide-navigation":m.hideNavigation,"is-last":m.autoApply&&!s(Y).keepActionRow,"skip-button-ref":!1,config:m.config,type:P.type,"header-refs":[],"esc-close":m.escClose,"menu-wrap-ref":m.menuWrapRef,"text-input":m.textInput,"aria-labels":m.ariaLabels,onSelected:P.updateModelValue,onToggle:P.toggle},ze({"button-icon":ge(()=>[m.$slots["calendar-icon"]?ue(m.$slots,"calendar-icon",{key:0}):U("",!0),m.$slots["calendar-icon"]?U("",!0):(A(),Ae(s(Ya),{key:1}))]),_:2},[m.$slots[`${P.type}-overlay-value`]?{name:"item",fn:ge(({item:i})=>[ue(m.$slots,`${P.type}-overlay-value`,{text:i.text,value:i.value})]),key:"0"}:void 0,m.$slots[`${P.type}-overlay`]?{name:"overlay",fn:ge(()=>[ue(m.$slots,`${P.type}-overlay`,Le({ref_for:!0},te.value(P.type)))]),key:"1"}:void 0,m.$slots[`${P.type}-overlay-header`]?{name:"header",fn:ge(()=>[ue(m.$slots,`${P.type}-overlay-header`,{toggle:P.toggle})]),key:"2"}:void 0]),1032,["items","arrow-navigation","hide-navigation","is-last","config","type","esc-close","menu-wrap-ref","text-input","aria-labels","onSelected","onToggle"])):U("",!0)]),_:2},1032,["name","css"])],64))),128))],2),s(T)(s(b),e.instance)&&m.vertical?(A(),Ae(Ha,{key:1,"aria-label":(le=s(p))==null?void 0:le.prevMonth,disabled:s(K)(!1),class:ke((d=s(f))==null?void 0:d.navBtnPrev),onActivate:B[2]||(B[2]=P=>s(R)(!1,!0))},{default:ge(()=>[m.$slots["arrow-up"]?ue(m.$slots,"arrow-up",{key:0}):U("",!0),m.$slots["arrow-up"]?U("",!0):(A(),Ae(s(Vt),{key:1}))]),_:3},8,["aria-label","disabled","class"])):U("",!0),s(H)(s(b),e.instance)?(A(),Ae(Ha,{key:2,ref:"rightIcon",disabled:s(K)(!0),"aria-label":(re=s(p))==null?void 0:re.nextMonth,class:ke((he=s(f))==null?void 0:he.navBtnNext),onActivate:B[3]||(B[3]=P=>s(R)(!0,!0)),onSetRef:B[4]||(B[4]=P=>ae(P,m.disableYearSelect?2:3))},{default:ge(()=>[m.$slots[m.vertical?"arrow-down":"arrow-right"]?ue(m.$slots,m.vertical?"arrow-down":"arrow-right",{key:0}):U("",!0),m.$slots[m.vertical?"arrow-down":"arrow-right"]?U("",!0):(A(),Ae(st(m.vertical?s(zt):s(Et)),{key:1}))]),_:3},8,["disabled","aria-label","class"])):U("",!0)])],64))])}}}),Tr=["aria-label"],Mr={class:"dp__calendar_header",role:"row"},Sr={key:0,class:"dp__calendar_header_item",role:"gridcell"},Pr=["aria-label"],Rr=fe("div",{class:"dp__calendar_header_separator"},null,-1),Cr=["aria-label"],Or={key:0,role:"gridcell",class:"dp__calendar_item dp__week_num"},Nr={class:"dp__cell_inner"},Ir=["id","aria-selected","aria-disabled","aria-label","data-test","onClick","onKeydown","onMouseenter","onMouseleave","onMousedown"],Br=Ye({compatConfig:{MODE:3},__name:"DpCalendar",props:{mappedDates:{type:Array,default:()=>[]},instance:{type:Number,default:0},month:{type:Number,default:0},year:{type:Number,default:0},...oa},emits:["select-date","set-hover-date","handle-scroll","mount","handle-swipe","handle-space","tooltip-open","tooltip-close"],setup(e,{expose:a,emit:n}){const l=n,t=e,{buildMultiLevelMatrix:v}=ka(),{defaultedTransitions:p,defaultedConfig:b,defaultedAriaLabels:c,defaultedMultiCalendars:Y,defaultedWeekNumbers:y,defaultedMultiDates:h,defaultedUI:f}=Pe(t),D=X(null),C=X({bottom:"",left:"",transform:""}),k=X([]),R=X(null),K=X(!0),ee=X(""),T=X({startX:0,endX:0,startY:0,endY:0}),H=X([]),Q=X({left:"50%"}),O=X(!1),S=j(()=>t.calendar?t.calendar(t.mappedDates):t.mappedDates),ne=j(()=>t.dayNames?Array.isArray(t.dayNames)?t.dayNames:t.dayNames(t.locale,+t.weekStart):cn(t.formatLocale,t.locale,+t.weekStart));He(()=>{l("mount",{cmp:"calendar",refs:k}),b.value.noSwipe||R.value&&(R.value.addEventListener("touchstart",ae,{passive:!1}),R.value.addEventListener("touchend",ie,{passive:!1}),R.value.addEventListener("touchmove",pe,{passive:!1})),t.monthChangeOnScroll&&R.value&&R.value.addEventListener("wheel",r,{passive:!1})});const q=P=>P?t.vertical?"vNext":"next":t.vertical?"vPrevious":"previous",N=(P,ye)=>{if(t.transitions){const i=Ue(ca(F(),t.month,t.year));ee.value=Oe(Ue(ca(F(),P,ye)),i)?p.value[q(!0)]:p.value[q(!1)],K.value=!1,Qe(()=>{K.value=!0})}},te=j(()=>({[t.calendarClassName]:!!t.calendarClassName,...f.value.calendar??{}})),se=j(()=>P=>{const ye=pn(P);return{dp__marker_dot:ye.type==="dot",dp__marker_line:ye.type==="line"}}),ce=j(()=>P=>De(P,D.value)),M=j(()=>({dp__calendar:!0,dp__calendar_next:Y.value.count>0&&t.instance!==0})),u=j(()=>P=>t.hideOffsetDates?P.current:!0),w=async(P,ye,i)=>{const I=Ne(k.value[ye][i]);if(I){const{width:J,height:z}=I.getBoundingClientRect();D.value=P.value;let L={left:`${J/2}px`},we=-50;if(await Qe(),H.value[0]){const{left:_,width:W}=H.value[0].getBoundingClientRect();_<0&&(L={left:"0"},we=0,Q.value.left=`${J/2}px`),window.innerWidth<_+W&&(L={right:"0"},we=0,Q.value.left=`${W-J/2}px`)}C.value={bottom:`${z}px`,...L,transform:`translateX(${we}%)`},l("tooltip-open",P.marker)}},o=async(P,ye,i)=>{var I,J;if(O.value&&h.value.enabled&&h.value.dragSelect)return l("select-date",P);l("set-hover-date",P),(J=(I=P.marker)==null?void 0:I.tooltip)!=null&&J.length&&await w(P,ye,i)},E=P=>{D.value&&(D.value=null,C.value=JSON.parse(JSON.stringify({bottom:"",left:"",transform:""})),l("tooltip-close",P.marker))},ae=P=>{T.value.startX=P.changedTouches[0].screenX,T.value.startY=P.changedTouches[0].screenY},ie=P=>{T.value.endX=P.changedTouches[0].screenX,T.value.endY=P.changedTouches[0].screenY,m()},pe=P=>{t.vertical&&!t.inline&&P.preventDefault()},m=()=>{const P=t.vertical?"Y":"X";Math.abs(T.value[`start${P}`]-T.value[`end${P}`])>10&&l("handle-swipe",T.value[`start${P}`]>T.value[`end${P}`]?"right":"left")},B=(P,ye,i)=>{P&&(Array.isArray(k.value[ye])?k.value[ye][i]=P:k.value[ye]=[P]),t.arrowNavigation&&v(k.value,"calendar")},r=P=>{t.monthChangeOnScroll&&(P.preventDefault(),l("handle-scroll",P))},x=P=>y.value.type==="local"?an(P.value,{weekStartsOn:+t.weekStart}):y.value.type==="iso"?tn(P.value):typeof y.value.type=="function"?y.value.type(P.value):"",le=P=>{const ye=P[0];return y.value.hideOnOffsetDates?P.some(i=>i.current)?x(ye):"":x(ye)},d=(P,ye)=>{h.value.enabled||(ga(P,b.value),l("select-date",ye))},re=P=>{ga(P,b.value)},he=P=>{h.value.enabled&&h.value.dragSelect?(O.value=!0,l("select-date",P)):h.value.enabled&&l("select-date",P)};return a({triggerTransition:N}),(P,ye)=>{var i;return A(),V("div",{class:ke(M.value)},[fe("div",{ref_key:"calendarWrapRef",ref:R,role:"grid",class:ke(te.value),"aria-label":(i=s(c))==null?void 0:i.calendarWrap},[fe("div",Mr,[P.weekNumbers?(A(),V("div",Sr,Ve(P.weekNumName),1)):U("",!0),(A(!0),V(_e,null,Me(ne.value,(I,J)=>{var z,L;return A(),V("div",{key:J,class:"dp__calendar_header_item",role:"gridcell","data-test":"calendar-header","aria-label":(L=(z=s(c))==null?void 0:z.weekDay)==null?void 0:L.call(z,J)},[P.$slots["calendar-header"]?ue(P.$slots,"calendar-header",{key:0,day:I,index:J}):U("",!0),P.$slots["calendar-header"]?U("",!0):(A(),V(_e,{key:1},[va(Ve(I),1)],64))],8,Pr)}),128))]),Rr,la(La,{name:ee.value,css:!!P.transitions},{default:ge(()=>{var I;return[K.value?(A(),V("div",{key:0,class:"dp__calendar",role:"rowgroup","aria-label":((I=s(c))==null?void 0:I.calendarDays)||void 0,onMouseleave:ye[1]||(ye[1]=J=>O.value=!1)},[(A(!0),V(_e,null,Me(S.value,(J,z)=>(A(),V("div",{key:z,class:"dp__calendar_row",role:"row"},[P.weekNumbers?(A(),V("div",Or,[fe("div",Nr,Ve(le(J.days)),1)])):U("",!0),(A(!0),V(_e,null,Me(J.days,(L,we)=>{var _,W,ve;return A(),V("div",{id:s(Pl)(L.value),ref_for:!0,ref:$e=>B($e,z,we),key:we+z,role:"gridcell",class:"dp__calendar_item","aria-selected":(L.classData.dp__active_date||L.classData.dp__range_start||L.classData.dp__range_start)??void 0,"aria-disabled":L.classData.dp__cell_disabled||void 0,"aria-label":(W=(_=s(c))==null?void 0:_.day)==null?void 0:W.call(_,L),tabindex:"0","data-test":L.value,onClick:Ka($e=>d($e,L),["prevent"]),onKeydown:$e=>s(Ze)($e,()=>P.$emit("select-date",L)),onMouseenter:$e=>o(L,z,we),onMouseleave:$e=>E(L),onMousedown:$e=>he(L),onMouseup:ye[0]||(ye[0]=$e=>O.value=!1)},[fe("div",{class:ke(["dp__cell_inner",L.classData])},[P.$slots.day&&u.value(L)?ue(P.$slots,"day",{key:0,day:+L.text,date:L.value}):U("",!0),P.$slots.day?U("",!0):(A(),V(_e,{key:1},[va(Ve(L.text),1)],64)),L.marker&&u.value(L)?(A(),V(_e,{key:2},[P.$slots.marker?ue(P.$slots,"marker",{key:0,marker:L.marker,day:+L.text,date:L.value}):(A(),V("div",{key:1,class:ke(se.value(L.marker)),style:aa(L.marker.color?{backgroundColor:L.marker.color}:{})},null,6))],64)):U("",!0),ce.value(L.value)?(A(),V("div",{key:3,ref_for:!0,ref_key:"activeTooltip",ref:H,class:"dp__marker_tooltip",style:aa(C.value)},[(ve=L.marker)!=null&&ve.tooltip?(A(),V("div",{key:0,class:"dp__tooltip_content",onClick:re},[(A(!0),V(_e,null,Me(L.marker.tooltip,($e,qe)=>(A(),V("div",{key:qe,class:"dp__tooltip_text"},[P.$slots["marker-tooltip"]?ue(P.$slots,"marker-tooltip",{key:0,tooltip:$e,day:L.value}):U("",!0),P.$slots["marker-tooltip"]?U("",!0):(A(),V(_e,{key:1},[fe("div",{class:"dp__tooltip_mark",style:aa($e.color?{backgroundColor:$e.color}:{})},null,4),fe("div",null,Ve($e.text),1)],64))]))),128)),fe("div",{class:"dp__arrow_bottom_tp",style:aa(Q.value)},null,4)])):U("",!0)],4)):U("",!0)],2)],40,Ir)}),128))]))),128))],40,Cr)):U("",!0)]}),_:3},8,["name","css"])],10,Tr)],2)}}}),ul=e=>Array.isArray(e),Lr=(e,a,n,l)=>{const t=X([]),v=X(new Date),p=X(),b=()=>ie(e.isTextInputDate),{modelValue:c,calendars:Y,time:y,today:h}=Wa(e,a,b),{defaultedMultiCalendars:f,defaultedStartTime:D,defaultedRange:C,defaultedConfig:k,defaultedTz:R,propDates:K,defaultedMultiDates:ee}=Pe(e),{validateMonthYearInRange:T,isDisabled:H,isDateRangeAllowed:Q,checkMinMaxRange:O}=wa(e),{updateTimeValues:S,getSetDateTime:ne,setTime:q,assignStartTime:N,validateTime:te,disabledTimesConfig:se}=Ll(e,y,c,l),ce=j(()=>g=>Y.value[g]?Y.value[g].month:0),M=j(()=>g=>Y.value[g]?Y.value[g].year:0),u=g=>!k.value.keepViewOnOffsetClick||g?!0:!p.value,w=(g,Z,$,G=!1)=>{var oe,je;u(G)&&(Y.value[g]||(Y.value[g]={month:0,year:0}),Y.value[g].month=ll(Z)?(oe=Y.value[g])==null?void 0:oe.month:Z,Y.value[g].year=ll($)?(je=Y.value[g])==null?void 0:je.year:$)},o=()=>{e.autoApply&&a("select-date")};He(()=>{e.shadow||(c.value||(ye(),D.value&&N(D.value)),ie(!0),e.focusStartDate&&e.startDate&&ye())});const E=j(()=>{var g;return(g=e.flow)!=null&&g.length&&!e.partialFlow?e.flowStep===e.flow.length:!0}),ae=()=>{e.autoApply&&E.value&&a("auto-apply")},ie=(g=!1)=>{if(c.value)return Array.isArray(c.value)?(t.value=c.value,d(g)):B(c.value,g);if(f.value.count&&g&&!e.startDate)return m(F(),g)},pe=()=>Array.isArray(c.value)&&C.value.enabled?be(c.value[0])===be(c.value[1]??c.value[0]):!1,m=(g=new Date,Z=!1)=>{if((!f.value.count||!f.value.static||Z)&&w(0,be(g),me(g)),f.value.count&&(!f.value.solo||!c.value||pe()))for(let $=1;$<f.value.count;$++){const G=xe(F(),{month:ce.value($-1),year:M.value($-1)}),oe=cl(G,{months:1});Y.value[$]={month:be(oe),year:me(oe)}}},B=(g,Z)=>{m(g),q("hours",pa(g)),q("minutes",_a(g)),q("seconds",Na(g)),f.value.count&&Z&&P()},r=g=>{if(f.value.count){if(f.value.solo)return 0;const Z=be(g[0]),$=be(g[1]);return Math.abs($-Z)<f.value.count?0:1}return 1},x=(g,Z)=>{g[1]&&C.value.showLastInRange?m(g[r(g)],Z):m(g[0],Z);const $=(G,oe)=>[G(g[0]),g[1]?G(g[1]):y[oe][1]];q("hours",$(pa,"hours")),q("minutes",$(_a,"minutes")),q("seconds",$(Na,"seconds"))},le=(g,Z)=>{if((C.value.enabled||e.weekPicker)&&!ee.value.enabled)return x(g,Z);if(ee.value.enabled&&Z){const $=g[g.length-1];return B($,Z)}},d=g=>{const Z=c.value;le(Z,g),f.value.count&&f.value.solo&&P()},re=(g,Z)=>{const $=xe(F(),{month:ce.value(Z),year:M.value(Z)}),G=g<0?xa($,1):qa($,1);T(be(G),me(G),g<0,e.preventMinMaxNavigation)&&(w(Z,be(G),me(G)),a("update-month-year",{instance:Z,month:be(G),year:me(G)}),f.value.count&&!f.value.solo&&he(Z),n())},he=g=>{for(let Z=g-1;Z>=0;Z--){const $=qa(xe(F(),{month:ce.value(Z+1),year:M.value(Z+1)}),1);w(Z,be($),me($))}for(let Z=g+1;Z<=f.value.count-1;Z++){const $=xa(xe(F(),{month:ce.value(Z-1),year:M.value(Z-1)}),1);w(Z,be($),me($))}},P=()=>{if(Array.isArray(c.value)&&c.value.length===2){const g=F(F(c.value[1]?c.value[1]:xa(c.value[0],1))),[Z,$]=[be(c.value[0]),me(c.value[0])],[G,oe]=[be(c.value[1]),me(c.value[1])];(Z!==G||Z===G&&$!==oe)&&f.value.solo&&w(1,be(g),me(g))}else c.value&&!Array.isArray(c.value)&&(w(0,be(c.value),me(c.value)),m(F()))},ye=()=>{e.startDate&&(w(0,be(F(e.startDate)),me(F(e.startDate))),f.value.count&&he(0))},i=(g,Z)=>{if(e.monthChangeOnScroll){const $=new Date().getTime()-v.value.getTime(),G=Math.abs(g.deltaY);let oe=500;G>1&&(oe=100),G>100&&(oe=0),$>oe&&(v.value=new Date,re(e.monthChangeOnScroll!=="inverse"?-g.deltaY:g.deltaY,Z))}},I=(g,Z,$=!1)=>{e.monthChangeOnArrows&&e.vertical===$&&J(g,Z)},J=(g,Z)=>{re(g==="right"?-1:1,Z)},z=g=>{if(K.value.markers)return it(g.value,K.value.markers)},L=(g,Z)=>{switch(e.sixWeeks===!0?"append":e.sixWeeks){case"prepend":return[!0,!1];case"center":return[g==0,!0];case"fair":return[g==0||Z>g,!0];case"append":return[!1,!1];default:return[!1,!1]}},we=(g,Z,$,G)=>{if(e.sixWeeks&&g.length<6){const oe=6-g.length,je=(Z.getDay()+7-G)%7,ea=6-($.getDay()+7-G)%7,[Da,et]=L(je,ea);for(let Va=1;Va<=oe;Va++)if(et?!!(Va%2)==Da:Da){const ya=g[0].days[0],wt=_($a(ya.value,-7),be(Z));g.unshift({days:wt})}else{const ya=g[g.length-1],wt=ya.days[ya.days.length-1],El=_($a(wt.value,1),be(Z));g.push({days:El})}}return g},_=(g,Z)=>{const $=F(g),G=[];for(let oe=0;oe<7;oe++){const je=$a($,oe),ea=be(je)!==Z;G.push({text:e.hideOffsetDates&&ea?"":je.getDate(),value:je,current:!ea,classData:{}})}return G},W=(g,Z)=>{const $=[],G=new Date(Z,g),oe=new Date(Z,g+1,0),je=e.weekStart,ea=Lt(G,{weekStartsOn:je}),Da=et=>{const Va=_(et,g);if($.push({days:Va}),!$[$.length-1].days.some(ya=>De(Ue(ya.value),Ue(oe)))){const ya=$a(et,7);Da(ya)}};return Da(ea),we($,G,oe,je)},ve=g=>{const Z=ba(F(g.value),y.hours,y.minutes,Xe());a("date-update",Z),ee.value.enabled?Jt(Z,c,ee.value.limit):c.value=Z,l(),Qe().then(()=>{ae()})},$e=g=>C.value.noDisabledRange?$l(t.value[0],g).some(Z=>H(Z)):!1,qe=()=>{t.value=c.value?c.value.slice():[],t.value.length===2&&!(C.value.fixedStart||C.value.fixedEnd)&&(t.value=[])},de=(g,Z)=>{const $=[F(g.value),$a(F(g.value),+C.value.autoRange)];Q($)?(Z&&ma(g.value),t.value=$):a("invalid-date",g.value)},ma=g=>{const Z=be(F(g)),$=me(F(g));if(w(0,Z,$),f.value.count>0)for(let G=1;G<f.value.count;G++){const oe=kn(xe(F(g),{year:ce.value(G-1),month:M.value(G-1)}));w(G,oe.month,oe.year)}},ia=g=>{if($e(g.value)||!O(g.value,c.value,C.value.fixedStart?0:1))return a("invalid-date",g.value);t.value=Nl(F(g.value),c,a,C)},Ea=(g,Z)=>{if(qe(),C.value.autoRange)return de(g,Z);if(C.value.fixedStart||C.value.fixedEnd)return ia(g);t.value[0]?O(F(g.value),c.value)&&!$e(g.value)?Re(F(g.value),F(t.value[0]))?(t.value.unshift(F(g.value)),a("range-end",t.value[0])):(t.value[1]=F(g.value),a("range-end",t.value[1])):(e.autoApply&&a("auto-apply-invalid",g.value),a("invalid-date",g.value)):(t.value[0]=F(g.value),a("range-start",t.value[0]))},Xe=(g=!0)=>e.enableSeconds?Array.isArray(y.seconds)?g?y.seconds[0]:y.seconds[1]:y.seconds:0,Fa=g=>{t.value[g]=ba(t.value[g],y.hours[g],y.minutes[g],Xe(g!==1))},yt=()=>{var g,Z;t.value[0]&&t.value[1]&&+((g=t.value)==null?void 0:g[0])>+((Z=t.value)==null?void 0:Z[1])&&(t.value.reverse(),a("range-start",t.value[0]),a("range-end",t.value[1]))},Qa=()=>{t.value.length&&(t.value[0]&&!t.value[1]?Fa(0):(Fa(0),Fa(1),l()),yt(),c.value=t.value.slice(),pt(t.value,a,e.autoApply,e.modelAuto))},ft=(g,Z=!1)=>{if(H(g.value)||!g.current&&e.hideOffsetDates)return a("invalid-date",g.value);if(p.value=JSON.parse(JSON.stringify(g)),!C.value.enabled)return ve(g);ul(y.hours)&&ul(y.minutes)&&!ee.value.enabled&&(Ea(g,Z),Qa())},ht=(g,Z)=>{var $;w(g,Z.month,Z.year,!0),f.value.count&&!f.value.solo&&he(g),a("update-month-year",{instance:g,month:Z.month,year:Z.year}),n(f.value.solo?g:void 0);const G=($=e.flow)!=null&&$.length?e.flow[e.flowStep]:void 0;!Z.fromNav&&(G===Fe.month||G===Fe.year)&&l()},gt=(g,Z)=>{Ol({value:g,modelValue:c,range:C.value.enabled,timezone:Z?void 0:R.value.timezone}),o(),e.multiCalendars&&Qe().then(()=>ie(!0))},bt=()=>{const g=Ht(F(),R.value);C.value.enabled?c.value&&Array.isArray(c.value)&&c.value[0]?c.value=Re(g,c.value[0])?[g,c.value[0]]:[c.value[0],g]:c.value=[g]:c.value=g,o()},_t=()=>{if(Array.isArray(c.value))if(ee.value.enabled){const g=kt();c.value[c.value.length-1]=ne(g)}else c.value=c.value.map((g,Z)=>g&&ne(g,Z));else c.value=ne(c.value);a("time-update")},kt=()=>Array.isArray(c.value)&&c.value.length?c.value[c.value.length-1]:null;return{calendars:Y,modelValue:c,month:ce,year:M,time:y,disabledTimesConfig:se,today:h,validateTime:te,getCalendarDays:W,getMarker:z,handleScroll:i,handleSwipe:J,handleArrow:I,selectDate:ft,updateMonthYear:ht,presetDate:gt,selectCurrentDate:bt,updateTime:(g,Z=!0,$=!1)=>{S(g,Z,$,_t)},assignMonthAndYear:m}},Yr={key:0},Er=Ye({__name:"DatePicker",props:{...oa},emits:["tooltip-open","tooltip-close","mount","update:internal-model-value","update-flow-step","reset-flow","auto-apply","focus-menu","select-date","range-start","range-end","invalid-fixed-range","time-update","am-pm-change","time-picker-open","time-picker-close","recalculate-position","update-month-year","auto-apply-invalid","date-update","invalid-date","overlay-toggle"],setup(e,{expose:a,emit:n}){const l=n,t=e,{calendars:v,month:p,year:b,modelValue:c,time:Y,disabledTimesConfig:y,today:h,validateTime:f,getCalendarDays:D,getMarker:C,handleArrow:k,handleScroll:R,handleSwipe:K,selectDate:ee,updateMonthYear:T,presetDate:H,selectCurrentDate:Q,updateTime:O,assignMonthAndYear:S}=Lr(t,l,pe,m),ne=Sa(),{setHoverDate:q,getDayClassData:N,clearHoverDate:te}=ao(c,t),{defaultedMultiCalendars:se}=Pe(t),ce=X([]),M=X([]),u=X(null),w=We(ne,"calendar"),o=We(ne,"monthYear"),E=We(ne,"timePicker"),ae=i=>{t.shadow||l("mount",i)};ta(v,()=>{t.shadow||setTimeout(()=>{l("recalculate-position")},0)},{deep:!0}),ta(se,(i,I)=>{i.count-I.count>0&&S()},{deep:!0});const ie=j(()=>i=>D(p.value(i),b.value(i)).map(I=>({...I,days:I.days.map(J=>(J.marker=C(J),J.classData=N(J),J))})));function pe(i){var I;i||i===0?(I=M.value[i])==null||I.triggerTransition(p.value(i),b.value(i)):M.value.forEach((J,z)=>J.triggerTransition(p.value(z),b.value(z)))}function m(){l("update-flow-step")}const B=(i,I=!1)=>{ee(i,I),t.spaceConfirm&&l("select-date")},r=(i,I,J=0)=>{var z;(z=ce.value[J])==null||z.toggleMonthPicker(i,I)},x=(i,I,J=0)=>{var z;(z=ce.value[J])==null||z.toggleYearPicker(i,I)},le=(i,I,J)=>{var z;(z=u.value)==null||z.toggleTimePicker(i,I,J)},d=(i,I)=>{var J;if(!t.range){const z=c.value?c.value:h,L=I?new Date(I):z,we=i?Lt(L,{weekStartsOn:1}):vl(L,{weekStartsOn:1});ee({value:we,current:be(L)===p.value(0),text:"",classData:{}}),(J=document.getElementById(Pl(we)))==null||J.focus()}},re=i=>{var I;(I=ce.value[0])==null||I.handleMonthYearChange(i,!0)},he=i=>{T(0,{month:p.value(0),year:b.value(0)+(i?1:-1),fromNav:!0})},P=(i,I)=>{i===Fe.time&&l(`time-picker-${I?"open":"close"}`),l("overlay-toggle",{open:I,overlay:i})},ye=i=>{l("overlay-toggle",{open:!1,overlay:i}),l("focus-menu")};return a({clearHoverDate:te,presetDate:H,selectCurrentDate:Q,toggleMonthPicker:r,toggleYearPicker:x,toggleTimePicker:le,handleArrow:k,updateMonthYear:T,getSidebarProps:()=>({modelValue:c,month:p,year:b,time:Y,updateTime:O,updateMonthYear:T,selectDate:ee,presetDate:H}),changeMonth:re,changeYear:he,selectWeekDate:d}),(i,I)=>(A(),V(_e,null,[la(vt,{"multi-calendars":s(se).count,collapse:i.collapse},{default:ge(({instance:J,index:z})=>[i.disableMonthYearSelect?U("",!0):(A(),Ae(xr,Le({key:0,ref:L=>{L&&(ce.value[z]=L)},months:s(bl)(i.formatLocale,i.locale,i.monthNameFormat),years:s(jt)(i.yearRange,i.locale,i.reverseYears),month:s(p)(J),year:s(b)(J),instance:J},i.$props,{onMount:I[0]||(I[0]=L=>ae(s(Ta).header)),onResetFlow:I[1]||(I[1]=L=>i.$emit("reset-flow")),onUpdateMonthYear:L=>s(T)(J,L),onOverlayClosed:ye,onOverlayOpened:I[2]||(I[2]=L=>i.$emit("overlay-toggle",{open:!0,overlay:L}))}),ze({_:2},[Me(s(o),(L,we)=>({name:L,fn:ge(_=>[ue(i.$slots,L,Be(Je(_)))])}))]),1040,["months","years","month","year","instance","onUpdateMonthYear"])),la(Br,Le({ref:L=>{L&&(M.value[z]=L)},"mapped-dates":ie.value(J),month:s(p)(J),year:s(b)(J),instance:J},i.$props,{onSelectDate:L=>s(ee)(L,J!==1),onHandleSpace:L=>B(L,J!==1),onSetHoverDate:I[3]||(I[3]=L=>s(q)(L)),onHandleScroll:L=>s(R)(L,J),onHandleSwipe:L=>s(K)(L,J),onMount:I[4]||(I[4]=L=>ae(s(Ta).calendar)),onResetFlow:I[5]||(I[5]=L=>i.$emit("reset-flow")),onTooltipOpen:I[6]||(I[6]=L=>i.$emit("tooltip-open",L)),onTooltipClose:I[7]||(I[7]=L=>i.$emit("tooltip-close",L))}),ze({_:2},[Me(s(w),(L,we)=>({name:L,fn:ge(_=>[ue(i.$slots,L,Be(Je({..._})))])}))]),1040,["mapped-dates","month","year","instance","onSelectDate","onHandleSpace","onHandleScroll","onHandleSwipe"])]),_:3},8,["multi-calendars","collapse"]),i.enableTimePicker?(A(),V("div",Yr,[i.$slots["time-picker"]?ue(i.$slots,"time-picker",Be(Le({key:0},{time:s(Y),updateTime:s(O)}))):(A(),Ae(Bl,Le({key:1,ref_key:"timePickerRef",ref:u},i.$props,{hours:s(Y).hours,minutes:s(Y).minutes,seconds:s(Y).seconds,"internal-model-value":i.internalModelValue,"disabled-times-config":s(y),"validate-time":s(f),onMount:I[8]||(I[8]=J=>ae(s(Ta).timePicker)),"onUpdate:hours":I[9]||(I[9]=J=>s(O)(J)),"onUpdate:minutes":I[10]||(I[10]=J=>s(O)(J,!1)),"onUpdate:seconds":I[11]||(I[11]=J=>s(O)(J,!1,!0)),onResetFlow:I[12]||(I[12]=J=>i.$emit("reset-flow")),onOverlayClosed:I[13]||(I[13]=J=>P(J,!1)),onOverlayOpened:I[14]||(I[14]=J=>P(J,!0)),onAmPmChange:I[15]||(I[15]=J=>i.$emit("am-pm-change",J))}),ze({_:2},[Me(s(E),(J,z)=>({name:J,fn:ge(L=>[ue(i.$slots,J,Be(Je(L)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"]))])):U("",!0)],64))}}),Fr=(e,a)=>{const n=X(),{defaultedMultiCalendars:l,defaultedConfig:t,defaultedHighlight:v,defaultedRange:p,propDates:b,defaultedFilters:c,defaultedMultiDates:Y}=Pe(e),{modelValue:y,year:h,month:f,calendars:D}=Wa(e,a),{isDisabled:C}=wa(e),{selectYear:k,groupedYears:R,showYearPicker:K,isDisabled:ee,toggleYearPicker:T,handleYearSelect:H,handleYear:Q}=Il({modelValue:y,multiCalendars:l,range:p,highlight:v,calendars:D,propDates:b,month:f,year:h,filters:c,props:e,emit:a}),O=(u,w)=>[u,w].map(o=>sa(o,"MMMM",{locale:e.formatLocale})).join("-"),S=j(()=>u=>y.value?Array.isArray(y.value)?y.value.some(w=>Wt(u,w)):Wt(y.value,u):!1),ne=u=>{if(p.value.enabled){if(Array.isArray(y.value)){const w=De(u,y.value[0])||De(u,y.value[1]);return dt(y.value,n.value,u)&&!w}return!1}return!1},q=(u,w)=>u.quarter===el(w)&&u.year===me(w),N=u=>typeof v.value=="function"?v.value({quarter:el(u),year:me(u)}):!!v.value.quarters.find(w=>q(w,u)),te=j(()=>u=>{const w=xe(new Date,{year:h.value(u)});return Gl({start:ot(w),end:pl(w)}).map(o=>{const E=Xl(o),ae=Qt(o),ie=C(o),pe=ne(E),m=N(E);return{text:O(E,ae),value:E,active:S.value(E),highlighted:m,disabled:ie,isBetween:pe}})}),se=u=>{Jt(u,y,Y.value.limit),a("auto-apply",!0)},ce=u=>{y.value=Zt(y,u,a),pt(y.value,a,e.autoApply,e.modelAuto)},M=u=>{y.value=u,a("auto-apply")};return{defaultedConfig:t,defaultedMultiCalendars:l,groupedYears:R,year:h,isDisabled:ee,quarters:te,showYearPicker:K,modelValue:y,setHoverDate:u=>{n.value=u},selectYear:k,selectQuarter:(u,w,o)=>{if(!o)return D.value[w].month=be(Qt(u)),Y.value.enabled?se(u):p.value.enabled?ce(u):M(u)},toggleYearPicker:T,handleYearSelect:H,handleYear:Q}},Vr={class:"dp--quarter-items"},zr=["data-test","disabled","onClick","onMouseover"],Hr=Ye({compatConfig:{MODE:3},__name:"QuarterPicker",props:{...oa},emits:["update:internal-model-value","reset-flow","overlay-closed","auto-apply","range-start","range-end","overlay-toggle","update-month-year"],setup(e,{expose:a,emit:n}){const l=n,t=e,v=Sa(),p=We(v,"yearMode"),{defaultedMultiCalendars:b,defaultedConfig:c,groupedYears:Y,year:y,isDisabled:h,quarters:f,modelValue:D,showYearPicker:C,setHoverDate:k,selectQuarter:R,toggleYearPicker:K,handleYearSelect:ee,handleYear:T}=Fr(t,l);return a({getSidebarProps:()=>({modelValue:D,year:y,selectQuarter:R,handleYearSelect:ee,handleYear:T})}),(H,Q)=>(A(),Ae(vt,{"multi-calendars":s(b).count,collapse:H.collapse,stretch:""},{default:ge(({instance:O})=>[fe("div",{class:"dp-quarter-picker-wrap",style:aa({minHeight:`${s(c).modeHeight}px`})},[H.$slots["top-extra"]?ue(H.$slots,"top-extra",{key:0,value:H.internalModelValue}):U("",!0),fe("div",null,[la(Cl,Le(H.$props,{items:s(Y)(O),instance:O,"show-year-picker":s(C)[O],year:s(y)(O),"is-disabled":S=>s(h)(O,S),onHandleYear:S=>s(T)(O,S),onYearSelect:S=>s(ee)(S,O),onToggleYearPicker:S=>s(K)(O,S==null?void 0:S.flow,S==null?void 0:S.show)}),ze({_:2},[Me(s(p),(S,ne)=>({name:S,fn:ge(q=>[ue(H.$slots,S,Be(Je(q)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),fe("div",Vr,[(A(!0),V(_e,null,Me(s(f)(O),(S,ne)=>(A(),V("div",{key:ne},[fe("button",{type:"button",class:ke(["dp--qr-btn",{"dp--qr-btn-active":S.active,"dp--qr-btn-between":S.isBetween,"dp--qr-btn-disabled":S.disabled,"dp--highlighted":S.highlighted}]),"data-test":S.value,disabled:S.disabled,onClick:q=>s(R)(S.value,O,S.disabled),onMouseover:q=>s(k)(S.value)},[H.$slots.quarter?ue(H.$slots,"quarter",{key:0,value:S.value,text:S.text}):(A(),V(_e,{key:1},[va(Ve(S.text),1)],64))],42,zr)]))),128))])],4)]),_:3},8,["multi-calendars","collapse"]))}}),jr=["id","aria-label"],Kr={key:0,class:"dp--menu-load-container"},Ur=fe("span",{class:"dp--menu-loader"},null,-1),qr=[Ur],Jr={key:0,class:"dp__sidebar_left"},Zr=["data-test","onClick","onKeydown"],Gr={key:2,class:"dp__sidebar_right"},Xr={key:3,class:"dp__action_extra"},sl=Ye({compatConfig:{MODE:3},__name:"DatepickerMenu",props:{...ct,shadow:{type:Boolean,default:!1},openOnTop:{type:Boolean,default:!1},internalModelValue:{type:[Date,Array],default:null},noOverlayFocus:{type:Boolean,default:!1},collapse:{type:Boolean,default:!1},getInputRect:{type:Function,default:()=>({})},isTextInputDate:{type:Boolean,default:!1}},emits:["close-picker","select-date","auto-apply","time-update","flow-step","update-month-year","invalid-select","update:internal-model-value","recalculate-position","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","auto-apply-invalid","date-update","invalid-date","overlay-toggle"],setup(e,{expose:a,emit:n}){const l=n,t=e,v=X(null),p=j(()=>{const{openOnTop:_,...W}=t;return{...W,flowStep:q.value,collapse:t.collapse,noOverlayFocus:t.noOverlayFocus,menuWrapRef:v.value}}),{setMenuFocused:b,setShiftKey:c,control:Y}=Rl(),y=Sa(),{defaultedTextInput:h,defaultedInline:f,defaultedConfig:D,defaultedUI:C}=Pe(t),k=X(null),R=X(0),K=X(null),ee=X(!1),T=X(null);He(()=>{if(!t.shadow){ee.value=!0,H(),window.addEventListener("resize",H);const _=Ne(v);if(_&&!h.value.enabled&&!f.value.enabled&&(b(!0),w()),_){const W=ve=>{D.value.allowPreventDefault&&ve.preventDefault(),ga(ve,D.value,!0)};_.addEventListener("pointerdown",W),_.addEventListener("mousedown",W)}}}),ut(()=>{window.removeEventListener("resize",H)});const H=()=>{const _=Ne(K);_&&(R.value=_.getBoundingClientRect().width)},{arrowRight:Q,arrowLeft:O,arrowDown:S,arrowUp:ne}=ka(),{flowStep:q,updateFlowStep:N,childMount:te,resetFlow:se,handleFlow:ce}=to(t,l,T),M=j(()=>t.monthPicker?ar:t.yearPicker?lr:t.timePicker?_r:t.quarterPicker?Hr:Er),u=j(()=>{var _;if(D.value.arrowLeft)return D.value.arrowLeft;const W=(_=v.value)==null?void 0:_.getBoundingClientRect(),ve=t.getInputRect();return(ve==null?void 0:ve.width)<(R==null?void 0:R.value)&&(ve==null?void 0:ve.left)<=((W==null?void 0:W.left)??0)?`${(ve==null?void 0:ve.width)/2}px`:(ve==null?void 0:ve.right)>=((W==null?void 0:W.right)??0)&&(ve==null?void 0:ve.width)<(R==null?void 0:R.value)?`${(R==null?void 0:R.value)-(ve==null?void 0:ve.width)/2}px`:"50%"}),w=()=>{const _=Ne(v);_&&_.focus({preventScroll:!0})},o=j(()=>{var _;return((_=T.value)==null?void 0:_.getSidebarProps())||{}}),E=()=>{t.openOnTop&&l("recalculate-position")},ae=We(y,"action"),ie=j(()=>t.monthPicker||t.yearPicker?We(y,"monthYear"):t.timePicker?We(y,"timePicker"):We(y,"shared")),pe=j(()=>t.openOnTop?"dp__arrow_bottom":"dp__arrow_top"),m=j(()=>({dp__menu_disabled:t.disabled,dp__menu_readonly:t.readonly,"dp-menu-loading":t.loading})),B=j(()=>({dp__menu:!0,dp__menu_index:!f.value.enabled,dp__relative:f.value.enabled,[t.menuClassName]:!!t.menuClassName,...C.value.menu??{}})),r=_=>{ga(_,D.value,!0)},x=()=>{t.escClose&&l("close-picker")},le=_=>{if(t.arrowNavigation){if(_===Ke.up)return ne();if(_===Ke.down)return S();if(_===Ke.left)return O();if(_===Ke.right)return Q()}else _===Ke.left||_===Ke.up?ye("handleArrow",Ke.left,0,_===Ke.up):ye("handleArrow",Ke.right,0,_===Ke.down)},d=_=>{c(_.shiftKey),!t.disableMonthYearSelect&&_.code===Se.tab&&_.target.classList.contains("dp__menu")&&Y.value.shiftKeyInMenu&&(_.preventDefault(),ga(_,D.value,!0),l("close-picker"))},re=()=>{w(),l("time-picker-close")},he=_=>{var W,ve,$e;(W=T.value)==null||W.toggleTimePicker(!1,!1),(ve=T.value)==null||ve.toggleMonthPicker(!1,!1,_),($e=T.value)==null||$e.toggleYearPicker(!1,!1,_)},P=(_,W=0)=>{var ve,$e,qe;return _==="month"?(ve=T.value)==null?void 0:ve.toggleMonthPicker(!1,!0,W):_==="year"?($e=T.value)==null?void 0:$e.toggleYearPicker(!1,!0,W):_==="time"?(qe=T.value)==null?void 0:qe.toggleTimePicker(!0,!1):he(W)},ye=(_,...W)=>{var ve,$e;(ve=T.value)!=null&&ve[_]&&(($e=T.value)==null||$e[_](...W))},i=()=>{ye("selectCurrentDate")},I=(_,W)=>{ye("presetDate",_,W)},J=()=>{ye("clearHoverDate")},z=(_,W)=>{ye("updateMonthYear",_,W)},L=(_,W)=>{_.preventDefault(),le(W)},we=_=>{var W;if(d(_),_.key===Se.home||_.key===Se.end)return ye("selectWeekDate",_.key===Se.home,_.target.getAttribute("id"));switch((_.key===Se.pageUp||_.key===Se.pageDown)&&(_.shiftKey?ye("changeYear",_.key===Se.pageUp):ye("changeMonth",_.key===Se.pageUp),_.target.getAttribute("id")&&((W=v.value)==null||W.focus({preventScroll:!0}))),_.key){case Se.esc:return x();case Se.arrowLeft:return L(_,Ke.left);case Se.arrowRight:return L(_,Ke.right);case Se.arrowUp:return L(_,Ke.up);case Se.arrowDown:return L(_,Ke.down);default:return}};return a({updateMonthYear:z,switchView:P,handleFlow:ce}),(_,W)=>{var ve,$e,qe;return A(),V("div",{id:_.uid?`dp-menu-${_.uid}`:void 0,ref_key:"dpMenuRef",ref:v,tabindex:"0",role:"dialog","aria-label":(ve=_.ariaLabels)==null?void 0:ve.menu,class:ke(B.value),style:aa({"--dp-arrow-left":u.value}),onMouseleave:J,onClick:r,onKeydown:we},[(_.disabled||_.readonly)&&s(f).enabled||_.loading?(A(),V("div",{key:0,class:ke(m.value)},[_.loading?(A(),V("div",Kr,qr)):U("",!0)],2)):U("",!0),!s(f).enabled&&!_.teleportCenter?(A(),V("div",{key:1,class:ke(pe.value)},null,2)):U("",!0),fe("div",{ref_key:"innerMenuRef",ref:K,class:ke({dp__menu_content_wrapper:(($e=_.presetDates)==null?void 0:$e.length)||!!_.$slots["left-sidebar"]||!!_.$slots["right-sidebar"],"dp--menu-content-wrapper-collapsed":e.collapse&&(((qe=_.presetDates)==null?void 0:qe.length)||!!_.$slots["left-sidebar"]||!!_.$slots["right-sidebar"])}),style:aa({"--dp-menu-width":`${R.value}px`})},[_.$slots["left-sidebar"]?(A(),V("div",Jr,[ue(_.$slots,"left-sidebar",Be(Je(o.value)))])):U("",!0),_.presetDates.length?(A(),V("div",{key:1,class:ke({"dp--preset-dates-collapsed":e.collapse,"dp--preset-dates":!0})},[(A(!0),V(_e,null,Me(_.presetDates,(de,ma)=>(A(),V(_e,{key:ma},[de.slot?ue(_.$slots,de.slot,{key:0,presetDate:I,label:de.label,value:de.value}):(A(),V("button",{key:1,type:"button",style:aa(de.style||{}),class:ke(["dp__btn dp--preset-range",{"dp--preset-range-collapsed":e.collapse}]),"data-test":de.testId??void 0,onClick:Ka(ia=>I(de.value,de.noTz),["prevent"]),onKeydown:ia=>s(Ze)(ia,()=>I(de.value,de.noTz),!0)},Ve(de.label),47,Zr))],64))),128))],2)):U("",!0),fe("div",{ref_key:"calendarWrapperRef",ref:k,class:"dp__instance_calendar",role:"document"},[(A(),Ae(st(M.value),Le({ref_key:"dynCmpRef",ref:T},p.value,{"flow-step":s(q),onMount:s(te),onUpdateFlowStep:s(N),onResetFlow:s(se),onFocusMenu:w,onSelectDate:W[0]||(W[0]=de=>_.$emit("select-date")),onDateUpdate:W[1]||(W[1]=de=>_.$emit("date-update",de)),onTooltipOpen:W[2]||(W[2]=de=>_.$emit("tooltip-open",de)),onTooltipClose:W[3]||(W[3]=de=>_.$emit("tooltip-close",de)),onAutoApply:W[4]||(W[4]=de=>_.$emit("auto-apply",de)),onRangeStart:W[5]||(W[5]=de=>_.$emit("range-start",de)),onRangeEnd:W[6]||(W[6]=de=>_.$emit("range-end",de)),onInvalidFixedRange:W[7]||(W[7]=de=>_.$emit("invalid-fixed-range",de)),onTimeUpdate:W[8]||(W[8]=de=>_.$emit("time-update")),onAmPmChange:W[9]||(W[9]=de=>_.$emit("am-pm-change",de)),onTimePickerOpen:W[10]||(W[10]=de=>_.$emit("time-picker-open",de)),onTimePickerClose:re,onRecalculatePosition:E,onUpdateMonthYear:W[11]||(W[11]=de=>_.$emit("update-month-year",de)),onAutoApplyInvalid:W[12]||(W[12]=de=>_.$emit("auto-apply-invalid",de)),onInvalidDate:W[13]||(W[13]=de=>_.$emit("invalid-date",de)),onOverlayToggle:W[14]||(W[14]=de=>_.$emit("overlay-toggle",de)),"onUpdate:internalModelValue":W[15]||(W[15]=de=>_.$emit("update:internal-model-value",de))}),ze({_:2},[Me(ie.value,(de,ma)=>({name:de,fn:ge(ia=>[ue(_.$slots,de,Be(Je({...ia})))])}))]),1040,["flow-step","onMount","onUpdateFlowStep","onResetFlow"]))],512),_.$slots["right-sidebar"]?(A(),V("div",Gr,[ue(_.$slots,"right-sidebar",Be(Je(o.value)))])):U("",!0),_.$slots["action-extra"]?(A(),V("div",Xr,[_.$slots["action-extra"]?ue(_.$slots,"action-extra",{key:0,selectCurrentDate:i}):U("",!0)])):U("",!0)],6),!_.autoApply||s(D).keepActionRow?(A(),Ae(qn,Le({key:2,"menu-mount":ee.value},p.value,{"calendar-width":R.value,onClosePicker:W[16]||(W[16]=de=>_.$emit("close-picker")),onSelectDate:W[17]||(W[17]=de=>_.$emit("select-date")),onInvalidSelect:W[18]||(W[18]=de=>_.$emit("invalid-select")),onSelectNow:i}),ze({_:2},[Me(s(ae),(de,ma)=>({name:de,fn:ge(ia=>[ue(_.$slots,de,Be(Je({...ia})))])}))]),1040,["menu-mount","calendar-width"])):U("",!0)],46,jr)}}});var Ra=(e=>(e.center="center",e.left="left",e.right="right",e))(Ra||{});const Wr=({menuRef:e,menuRefInner:a,inputRef:n,pickerWrapperRef:l,inline:t,emit:v,props:p,slots:b})=>{const c=X({}),Y=X(!1),y=X({top:"0",left:"0"}),h=X(!1),f=ja(p,"teleportCenter");ta(f,()=>{y.value=JSON.parse(JSON.stringify({})),H()});const D=u=>{if(p.teleport){const w=u.getBoundingClientRect();return{left:w.left+window.scrollX,top:w.top+window.scrollY}}return{top:0,left:0}},C=(u,w)=>{y.value.left=`${u+w-c.value.width}px`},k=u=>{y.value.left=`${u}px`},R=(u,w)=>{p.position===Ra.left&&k(u),p.position===Ra.right&&C(u,w),p.position===Ra.center&&(y.value.left=`${u+w/2-c.value.width/2}px`)},K=u=>{const{width:w,height:o}=u.getBoundingClientRect(),{top:E,left:ae}=p.altPosition?p.altPosition(u):D(u);return{top:+E,left:+ae,width:w,height:o}},ee=()=>{y.value.left="50%",y.value.top="50%",y.value.transform="translate(-50%, -50%)",y.value.position="fixed",delete y.value.opacity},T=()=>{const u=Ne(n),{top:w,left:o,transform:E}=p.altPosition(u);y.value={top:`${w}px`,left:`${o}px`,transform:E??""}},H=(u=!0)=>{var w;if(!t.value.enabled){if(f.value)return ee();if(p.altPosition!==null)return T();if(u){const o=p.teleport?(w=a.value)==null?void 0:w.$el:e.value;o&&(c.value=o.getBoundingClientRect()),v("recalculate-position")}return te()}},Q=({inputEl:u,left:w,width:o})=>{window.screen.width>768&&!Y.value&&R(w,o),ne(u)},O=u=>{const{top:w,left:o,height:E,width:ae}=K(u);y.value.top=`${E+w+ +p.offset}px`,h.value=!1,Y.value||(y.value.left=`${o+ae/2-c.value.width/2}px`),Q({inputEl:u,left:o,width:ae})},S=u=>{const{top:w,left:o,width:E}=K(u);y.value.top=`${w-+p.offset-c.value.height}px`,h.value=!0,Q({inputEl:u,left:o,width:E})},ne=u=>{if(p.autoPosition){const{left:w,width:o}=K(u),{left:E,right:ae}=c.value;if(!Y.value){if(Math.abs(E)!==Math.abs(ae)){if(E<=0)return Y.value=!0,k(w);if(ae>=document.documentElement.clientWidth)return Y.value=!0,C(w,o)}return R(w,o)}}},q=()=>{const u=Ne(n);if(u){const{height:w}=c.value,{top:o,height:E}=u.getBoundingClientRect(),ae=window.innerHeight-o-E,ie=o;return w<=ae?Aa.bottom:w>ae&&w<=ie?Aa.top:ae>=ie?Aa.bottom:Aa.top}return Aa.bottom},N=u=>q()===Aa.bottom?O(u):S(u),te=()=>{const u=Ne(n);if(u)return p.autoPosition?N(u):O(u)},se=function(u){if(u){const w=u.scrollHeight>u.clientHeight,o=window.getComputedStyle(u).overflowY.indexOf("hidden")!==-1;return w&&!o}return!0},ce=function(u){return!u||u===document.body||u.nodeType===Node.DOCUMENT_FRAGMENT_NODE?window:se(u)?u:ce(u.assignedSlot?u.assignedSlot.parentNode:u.parentNode)},M=u=>{if(u)switch(p.position){case Ra.left:return{left:0,transform:"translateX(0)"};case Ra.right:return{left:`${u.width}px`,transform:"translateX(-100%)"};default:return{left:`${u.width/2}px`,transform:"translateX(-50%)"}}return{}};return{openOnTop:h,menuStyle:y,xCorrect:Y,setMenuPosition:H,getScrollableParent:ce,shadowRender:(u,w)=>{var o,E,ae;const ie=document.createElement("div"),pe=(o=Ne(n))==null?void 0:o.getBoundingClientRect();ie.setAttribute("id","dp--temp-container");const m=(E=l.value)!=null&&E.clientWidth?l.value:document.body;m.append(ie);const B=M(pe),r=Vl(u,{...w,shadow:!0,style:{opacity:0,position:"absolute",...B}},Object.fromEntries(Object.keys(b).filter(x=>["right-sidebar","left-sidebar","top-extra","action-extra"].includes(x)).map(x=>[x,b[x]])));Xt(r,ie),c.value=(ae=r.el)==null?void 0:ae.getBoundingClientRect(),Xt(null,ie),m.removeChild(ie)}}},fa=[{name:"clock-icon",use:["time","calendar","shared"]},{name:"arrow-left",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-right",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-up",use:["time","calendar","month-year","shared"]},{name:"arrow-down",use:["time","calendar","month-year","shared"]},{name:"calendar-icon",use:["month-year","time","calendar","shared","year-mode"]},{name:"day",use:["calendar","shared"]},{name:"month-overlay-value",use:["calendar","month-year","shared"]},{name:"year-overlay-value",use:["calendar","month-year","shared","year-mode"]},{name:"year-overlay",use:["month-year","shared"]},{name:"month-overlay",use:["month-year","shared"]},{name:"month-overlay-header",use:["month-year","shared"]},{name:"year-overlay-header",use:["month-year","shared"]},{name:"hours-overlay-value",use:["calendar","time","shared"]},{name:"hours-overlay-header",use:["calendar","time","shared"]},{name:"minutes-overlay-value",use:["calendar","time","shared"]},{name:"minutes-overlay-header",use:["calendar","time","shared"]},{name:"seconds-overlay-value",use:["calendar","time","shared"]},{name:"seconds-overlay-header",use:["calendar","time","shared"]},{name:"hours",use:["calendar","time","shared"]},{name:"minutes",use:["calendar","time","shared"]},{name:"month",use:["calendar","month-year","shared"]},{name:"year",use:["calendar","month-year","shared","year-mode"]},{name:"action-buttons",use:["action"]},{name:"action-preview",use:["action"]},{name:"calendar-header",use:["calendar","shared"]},{name:"marker-tooltip",use:["calendar","shared"]},{name:"action-extra",use:["menu"]},{name:"time-picker-overlay",use:["calendar","time","shared"]},{name:"am-pm-button",use:["calendar","time","shared"]},{name:"left-sidebar",use:["menu"]},{name:"right-sidebar",use:["menu"]},{name:"month-year",use:["month-year","shared"]},{name:"time-picker",use:["menu","shared"]},{name:"action-row",use:["action"]},{name:"marker",use:["calendar","shared"]},{name:"quarter",use:["shared"]},{name:"top-extra",use:["shared","month-year"]},{name:"tp-inline-arrow-up",use:["shared","time"]},{name:"tp-inline-arrow-down",use:["shared","time"]}],Qr=[{name:"trigger"},{name:"input-icon"},{name:"clear-icon"},{name:"dp-input"}],eo={all:()=>fa,monthYear:()=>fa.filter(e=>e.use.includes("month-year")),input:()=>Qr,timePicker:()=>fa.filter(e=>e.use.includes("time")),action:()=>fa.filter(e=>e.use.includes("action")),calendar:()=>fa.filter(e=>e.use.includes("calendar")),menu:()=>fa.filter(e=>e.use.includes("menu")),shared:()=>fa.filter(e=>e.use.includes("shared")),yearMode:()=>fa.filter(e=>e.use.includes("year-mode"))},We=(e,a,n)=>{const l=[];return eo[a]().forEach(t=>{e[t.name]&&l.push(t.name)}),n!=null&&n.length&&n.forEach(t=>{t.slot&&l.push(t.slot)}),l},Xa=e=>{const a=j(()=>l=>e.value?l?e.value.open:e.value.close:""),n=j(()=>l=>e.value?l?e.value.menuAppearTop:e.value.menuAppearBottom:"");return{transitionName:a,showTransition:!!e.value,menuTransition:n}},Wa=(e,a,n)=>{const{defaultedRange:l,defaultedTz:t}=Pe(e),v=F(Ge(F(),t.value.timezone)),p=X([{month:be(v),year:me(v)}]),b=f=>{const D={hours:pa(v),minutes:_a(v),seconds:0};return l.value.enabled?[D[f],D[f]]:D[f]},c=Za({hours:b("hours"),minutes:b("minutes"),seconds:b("seconds")});ta(l,(f,D)=>{f.enabled!==D.enabled&&(c.hours=b("hours"),c.minutes=b("minutes"),c.seconds=b("seconds"))},{deep:!0});const Y=j({get:()=>e.internalModelValue,set:f=>{!e.readonly&&!e.disabled&&a("update:internal-model-value",f)}}),y=j(()=>f=>p.value[f]?p.value[f].month:0),h=j(()=>f=>p.value[f]?p.value[f].year:0);return ta(Y,(f,D)=>{n&&JSON.stringify(f??{})!==JSON.stringify(D??{})&&n()},{deep:!0}),{calendars:p,time:c,modelValue:Y,month:y,year:h,today:v}},ao=(e,a)=>{const{defaultedMultiCalendars:n,defaultedMultiDates:l,defaultedUI:t,defaultedHighlight:v,defaultedTz:p,propDates:b,defaultedRange:c}=Pe(a),{isDisabled:Y}=wa(a),y=X(null),h=X(Ge(new Date,p.value.timezone)),f=r=>{!r.current&&a.hideOffsetDates||(y.value=r.value)},D=()=>{y.value=null},C=r=>Array.isArray(e.value)&&c.value.enabled&&e.value[0]&&y.value?r?Oe(y.value,e.value[0]):Re(y.value,e.value[0]):!0,k=(r,x)=>{const le=()=>e.value?x?e.value[0]||null:e.value[1]:null,d=e.value&&Array.isArray(e.value)?le():null;return De(F(r.value),d)},R=r=>{const x=Array.isArray(e.value)?e.value[0]:null;return r?!Re(y.value??null,x):!0},K=(r,x=!0)=>(c.value.enabled||a.weekPicker)&&Array.isArray(e.value)&&e.value.length===2?a.hideOffsetDates&&!r.current?!1:De(F(r.value),e.value[x?0:1]):c.value.enabled?k(r,x)&&R(x)||De(r.value,Array.isArray(e.value)?e.value[0]:null)&&C(x):!1,ee=(r,x)=>{if(Array.isArray(e.value)&&e.value[0]&&e.value.length===1){const le=De(r.value,y.value);return x?Oe(e.value[0],r.value)&&le:Re(e.value[0],r.value)&&le}return!1},T=r=>!e.value||a.hideOffsetDates&&!r.current?!1:c.value.enabled?a.modelAuto&&Array.isArray(e.value)?De(r.value,e.value[0]?e.value[0]:h.value):!1:l.value.enabled&&Array.isArray(e.value)?e.value.some(x=>De(x,r.value)):De(r.value,e.value?e.value:h.value),H=r=>{if(c.value.autoRange||a.weekPicker){if(y.value){if(a.hideOffsetDates&&!r.current)return!1;const x=$a(y.value,+c.value.autoRange),le=da(F(y.value),a.weekStart);return a.weekPicker?De(le[1],F(r.value)):De(x,F(r.value))}return!1}return!1},Q=r=>{if(c.value.autoRange||a.weekPicker){if(y.value){const x=$a(y.value,+c.value.autoRange);if(a.hideOffsetDates&&!r.current)return!1;const le=da(F(y.value),a.weekStart);return a.weekPicker?Oe(r.value,le[0])&&Re(r.value,le[1]):Oe(r.value,y.value)&&Re(r.value,x)}return!1}return!1},O=r=>{if(c.value.autoRange||a.weekPicker){if(y.value){if(a.hideOffsetDates&&!r.current)return!1;const x=da(F(y.value),a.weekStart);return a.weekPicker?De(x[0],r.value):De(y.value,r.value)}return!1}return!1},S=r=>dt(e.value,y.value,r.value),ne=()=>a.modelAuto&&Array.isArray(a.internalModelValue)?!!a.internalModelValue[0]:!1,q=()=>a.modelAuto?_l(a.internalModelValue):!0,N=r=>{if(a.weekPicker)return!1;const x=c.value.enabled?!K(r)&&!K(r,!1):!0;return!Y(r.value)&&!T(r)&&!(!r.current&&a.hideOffsetDates)&&x},te=r=>c.value.enabled?a.modelAuto?ne()&&T(r):!1:T(r),se=r=>v.value?gn(r.value,b.value.highlight):!1,ce=r=>{const x=Y(r.value);return x&&(typeof v.value=="function"?!v.value(r.value,x):!v.value.options.highlightDisabled)},M=r=>{var x;return typeof v.value=="function"?v.value(r.value):(x=v.value.weekdays)==null?void 0:x.includes(r.value.getDay())},u=r=>(c.value.enabled||a.weekPicker)&&(!(n.value.count>0)||r.current)&&q()&&!(!r.current&&a.hideOffsetDates)&&!T(r)?S(r):!1,w=r=>{const{isRangeStart:x,isRangeEnd:le}=ie(r),d=c.value.enabled?x||le:!1;return{dp__cell_offset:!r.current,dp__pointer:!a.disabled&&!(!r.current&&a.hideOffsetDates)&&!Y(r.value),dp__cell_disabled:Y(r.value),dp__cell_highlight:!ce(r)&&(se(r)||M(r))&&!te(r)&&!d&&!O(r)&&!(u(r)&&a.weekPicker)&&!le,dp__cell_highlight_active:!ce(r)&&(se(r)||M(r))&&te(r),dp__today:!a.noToday&&De(r.value,h.value)&&r.current,"dp--past":Re(r.value,h.value),"dp--future":Oe(r.value,h.value)}},o=r=>({dp__active_date:te(r),dp__date_hover:N(r)}),E=r=>{if(e.value&&!Array.isArray(e.value)){const x=da(e.value,a.weekStart);return{...m(r),dp__range_start:De(x[0],r.value),dp__range_end:De(x[1],r.value),dp__range_between_week:Oe(r.value,x[0])&&Re(r.value,x[1])}}return{...m(r)}},ae=r=>{if(e.value&&Array.isArray(e.value)){const x=da(e.value[0],a.weekStart),le=e.value[1]?da(e.value[1],a.weekStart):[];return{...m(r),dp__range_start:De(x[0],r.value)||De(le[0],r.value),dp__range_end:De(x[1],r.value)||De(le[1],r.value),dp__range_between_week:Oe(r.value,x[0])&&Re(r.value,x[1])||Oe(r.value,le[0])&&Re(r.value,le[1]),dp__range_between:Oe(r.value,x[1])&&Re(r.value,le[0])}}return{...m(r)}},ie=r=>{const x=n.value.count>0?r.current&&K(r)&&q():K(r)&&q(),le=n.value.count>0?r.current&&K(r,!1)&&q():K(r,!1)&&q();return{isRangeStart:x,isRangeEnd:le}},pe=r=>{const{isRangeStart:x,isRangeEnd:le}=ie(r);return{dp__range_start:x,dp__range_end:le,dp__range_between:u(r),dp__date_hover:De(r.value,y.value)&&!x&&!le&&!a.weekPicker,dp__date_hover_start:ee(r,!0),dp__date_hover_end:ee(r,!1)}},m=r=>({...pe(r),dp__cell_auto_range:Q(r),dp__cell_auto_range_start:O(r),dp__cell_auto_range_end:H(r)}),B=r=>c.value.enabled?c.value.autoRange?m(r):a.modelAuto?{...o(r),...pe(r)}:a.weekPicker?ae(r):pe(r):a.weekPicker?E(r):o(r);return{setHoverDate:f,clearHoverDate:D,getDayClassData:r=>a.hideOffsetDates&&!r.current?{}:{...w(r),...B(r),[a.dayClass?a.dayClass(r.value,a.internalModelValue):""]:!0,[a.calendarCellClassName]:!!a.calendarCellClassName,...t.value.calendarCell??{}}}},wa=e=>{const{defaultedFilters:a,defaultedRange:n,propDates:l,defaultedMultiDates:t}=Pe(e),v=M=>l.value.disabledDates?typeof l.value.disabledDates=="function"?l.value.disabledDates(F(M)):!!it(M,l.value.disabledDates):!1,p=M=>l.value.maxDate?e.yearPicker?me(M)>me(l.value.maxDate):Oe(M,l.value.maxDate):!1,b=M=>l.value.minDate?e.yearPicker?me(M)<me(l.value.minDate):Re(M,l.value.minDate):!1,c=M=>{const u=p(M),w=b(M),o=v(M),E=a.value.months.map(B=>+B).includes(be(M)),ae=e.disabledWeekDays.length?e.disabledWeekDays.some(B=>+B===Ul(M)):!1,ie=D(M),pe=me(M),m=pe<+e.yearRange[0]||pe>+e.yearRange[1];return!(u||w||o||E||m||ae||ie)},Y=(M,u)=>Re(...ha(l.value.minDate,M,u))||De(...ha(l.value.minDate,M,u)),y=(M,u)=>Oe(...ha(l.value.maxDate,M,u))||De(...ha(l.value.maxDate,M,u)),h=(M,u,w)=>{let o=!1;return l.value.maxDate&&w&&y(M,u)&&(o=!0),l.value.minDate&&!w&&Y(M,u)&&(o=!0),o},f=(M,u,w,o)=>{let E=!1;return o?l.value.minDate&&l.value.maxDate?E=h(M,u,w):(l.value.minDate&&Y(M,u)||l.value.maxDate&&y(M,u))&&(E=!0):E=!0,E},D=M=>Array.isArray(l.value.allowedDates)&&!l.value.allowedDates.length?!0:l.value.allowedDates?!it(M,l.value.allowedDates):!1,C=M=>!c(M),k=M=>n.value.noDisabledRange?!dl({start:M[0],end:M[1]}).some(u=>C(u)):!0,R=M=>{if(M){const u=me(M);return u>=+e.yearRange[0]&&u<=e.yearRange[1]}return!0},K=(M,u)=>!!(Array.isArray(M)&&M[u]&&(n.value.maxRange||n.value.minRange)&&R(M[u])),ee=(M,u,w=0)=>{if(K(u,w)&&R(M)){const o=ql(M,u[w]),E=$l(u[w],M),ae=E.length===1?0:E.filter(pe=>C(pe)).length,ie=Math.abs(o)-(n.value.minMaxRawRange?0:ae);if(n.value.minRange&&n.value.maxRange)return ie>=+n.value.minRange&&ie<=+n.value.maxRange;if(n.value.minRange)return ie>=+n.value.minRange;if(n.value.maxRange)return ie<=+n.value.maxRange}return!0},T=()=>!e.enableTimePicker||e.monthPicker||e.yearPicker||e.ignoreTimeValidation,H=M=>Array.isArray(M)?[M[0]?Tt(M[0]):null,M[1]?Tt(M[1]):null]:Tt(M),Q=(M,u,w)=>M.find(o=>+o.hours===pa(u)&&o.minutes==="*"?!0:+o.minutes===_a(u)&&+o.hours===pa(u))&&w,O=(M,u,w)=>{const[o,E]=M,[ae,ie]=u;return!Q(o,ae,w)&&!Q(E,ie,w)&&w},S=(M,u)=>{const w=Array.isArray(u)?u:[u];return Array.isArray(e.disabledTimes)?Array.isArray(e.disabledTimes[0])?O(e.disabledTimes,w,M):!w.some(o=>Q(e.disabledTimes,o,M)):M},ne=(M,u)=>{const w=Array.isArray(u)?[Ma(u[0]),u[1]?Ma(u[1]):void 0]:Ma(u),o=!e.disabledTimes(w);return M&&o},q=(M,u)=>e.disabledTimes?Array.isArray(e.disabledTimes)?S(u,M):ne(u,M):u,N=M=>{let u=!0;if(!M||T())return!0;const w=!l.value.minDate&&!l.value.maxDate?H(M):M;return(e.maxTime||l.value.maxDate)&&(u=rl(e.maxTime,l.value.maxDate,"max",Ie(w),u)),(e.minTime||l.value.minDate)&&(u=rl(e.minTime,l.value.minDate,"min",Ie(w),u)),q(M,u)},te=M=>{if(!e.monthPicker)return!0;let u=!0;const w=F(ra(M));if(l.value.minDate&&l.value.maxDate){const o=F(ra(l.value.minDate)),E=F(ra(l.value.maxDate));return Oe(w,o)&&Re(w,E)||De(w,o)||De(w,E)}if(l.value.minDate){const o=F(ra(l.value.minDate));u=Oe(w,o)||De(w,o)}if(l.value.maxDate){const o=F(ra(l.value.maxDate));u=Re(w,o)||De(w,o)}return u},se=j(()=>M=>!e.enableTimePicker||e.ignoreTimeValidation?!0:N(M)),ce=j(()=>M=>e.monthPicker?Array.isArray(M)&&(n.value.enabled||t.value.enabled)?!M.filter(u=>!te(u)).length:te(M):!0);return{isDisabled:C,validateDate:c,validateMonthYearInRange:f,isDateRangeAllowed:k,checkMinMaxRange:ee,isValidTime:N,isTimeValid:se,isMonthValid:ce}},mt=()=>{const e=j(()=>(l,t)=>l==null?void 0:l.includes(t)),a=j(()=>(l,t)=>l.count?l.solo?!0:t===0:!0),n=j(()=>(l,t)=>l.count?l.solo?!0:t===l.count-1:!0);return{hideNavigationButtons:e,showLeftIcon:a,showRightIcon:n}},to=(e,a,n)=>{const l=X(0),t=Za({[Ta.timePicker]:!e.enableTimePicker||e.timePicker||e.monthPicker,[Ta.calendar]:!1,[Ta.header]:!1}),v=j(()=>e.monthPicker||e.timePicker),p=h=>{var f;if((f=e.flow)!=null&&f.length){if(!h&&v.value)return y();t[h]=!0,Object.keys(t).filter(D=>!t[D]).length||y()}},b=()=>{var h,f;(h=e.flow)!=null&&h.length&&l.value!==-1&&(l.value+=1,a("flow-step",l.value),y()),((f=e.flow)==null?void 0:f.length)===l.value&&Qe().then(()=>c())},c=()=>{l.value=-1},Y=(h,f,...D)=>{var C,k;e.flow[l.value]===h&&n.value&&((k=(C=n.value)[f])==null||k.call(C,...D))},y=(h=0)=>{h&&(l.value+=h),Y(Fe.month,"toggleMonthPicker",!0),Y(Fe.year,"toggleYearPicker",!0),Y(Fe.calendar,"toggleTimePicker",!1,!0),Y(Fe.time,"toggleTimePicker",!0,!0);const f=e.flow[l.value];(f===Fe.hours||f===Fe.minutes||f===Fe.seconds)&&Y(f,"toggleTimePicker",!0,!0,f)};return{childMount:p,updateFlowStep:b,resetFlow:c,handleFlow:y,flowStep:l}},lo={key:1,class:"dp__input_wrap"},no=["id","name","inputmode","placeholder","disabled","readonly","required","value","autocomplete","aria-label","aria-disabled","aria-invalid"],ro={key:2,class:"dp__clear_icon"},oo=Ye({compatConfig:{MODE:3},__name:"DatepickerInput",props:{isMenuOpen:{type:Boolean,default:!1},inputValue:{type:String,default:""},...ct},emits:["clear","open","update:input-value","set-input-date","close","select-date","set-empty-date","toggle","focus-prev","focus","blur","real-blur"],setup(e,{expose:a,emit:n}){const l=n,t=e,{defaultedTextInput:v,defaultedAriaLabels:p,defaultedInline:b,defaultedConfig:c,defaultedRange:Y,defaultedMultiDates:y,defaultedUI:h,getDefaultPattern:f,getDefaultStartTime:D}=Pe(t),{checkMinMaxRange:C}=wa(t),k=X(),R=X(null),K=X(!1),ee=X(!1),T=j(()=>({dp__pointer:!t.disabled&&!t.readonly&&!v.value.enabled,dp__disabled:t.disabled,dp__input_readonly:!v.value.enabled,dp__input:!0,dp__input_icon_pad:!t.hideInputIcon,dp__input_valid:!!t.state,dp__input_invalid:t.state===!1,dp__input_focus:K.value||t.isMenuOpen,dp__input_reg:!v.value.enabled,[t.inputClassName]:!!t.inputClassName,...h.value.input??{}})),H=()=>{l("set-input-date",null),t.clearable&&t.autoApply&&(l("set-empty-date"),k.value=null)},Q=o=>{const E=D();return bn(o,v.value.format??f(),E??xl({},t.enableSeconds),t.inputValue,ee.value,t.formatLocale)},O=o=>{const{rangeSeparator:E}=v.value,[ae,ie]=o.split(`${E}`);if(ae){const pe=Q(ae.trim()),m=ie?Q(ie.trim()):null;if(Oa(pe,m))return;const B=pe&&m?[pe,m]:[pe];C(m,B,0)&&(k.value=pe?B:null)}},S=()=>{ee.value=!0},ne=o=>{if(Y.value.enabled)O(o);else if(y.value.enabled){const E=o.split(";");k.value=E.map(ae=>Q(ae.trim())).filter(ae=>ae)}else k.value=Q(o)},q=o=>{var E;const ae=typeof o=="string"?o:(E=o.target)==null?void 0:E.value;ae!==""?(v.value.openMenu&&!t.isMenuOpen&&l("open"),ne(ae),l("set-input-date",k.value)):H(),ee.value=!1,l("update:input-value",ae)},N=o=>{v.value.enabled?(ne(o.target.value),v.value.enterSubmit&&Bt(k.value)&&t.inputValue!==""?(l("set-input-date",k.value,!0),k.value=null):v.value.enterSubmit&&t.inputValue===""&&(k.value=null,l("clear"))):ce(o)},te=o=>{v.value.enabled&&v.value.tabSubmit&&ne(o.target.value),v.value.tabSubmit&&Bt(k.value)&&t.inputValue!==""?(l("set-input-date",k.value,!0,!0),k.value=null):v.value.tabSubmit&&t.inputValue===""&&(k.value=null,l("clear",!0))},se=()=>{K.value=!0,l("focus"),Qe().then(()=>{var o;v.value.enabled&&v.value.selectOnFocus&&((o=R.value)==null||o.select())})},ce=o=>{o.preventDefault(),ga(o,c.value,!0),v.value.enabled&&v.value.openMenu&&!b.value.input&&!t.isMenuOpen?l("open"):v.value.enabled||l("toggle")},M=()=>{l("real-blur"),K.value=!1,(!t.isMenuOpen||b.value.enabled&&b.value.input)&&l("blur"),t.autoApply&&v.value.enabled&&k.value&&!t.isMenuOpen&&(l("set-input-date",k.value),l("select-date"),k.value=null)},u=o=>{ga(o,c.value,!0),l("clear")},w=o=>{if(o.key==="Tab"&&te(o),o.key==="Enter"&&N(o),!v.value.enabled){if(o.code==="Tab")return;o.preventDefault()}};return a({focusInput:()=>{var o;(o=R.value)==null||o.focus({preventScroll:!0})},setParsedDate:o=>{k.value=o}}),(o,E)=>{var ae;return A(),V("div",{onClick:ce},[o.$slots.trigger&&!o.$slots["dp-input"]&&!s(b).enabled?ue(o.$slots,"trigger",{key:0}):U("",!0),!o.$slots.trigger&&(!s(b).enabled||s(b).input)?(A(),V("div",lo,[o.$slots["dp-input"]&&!o.$slots.trigger&&(!s(b).enabled||s(b).enabled&&s(b).input)?ue(o.$slots,"dp-input",{key:0,value:e.inputValue,isMenuOpen:e.isMenuOpen,onInput:q,onEnter:N,onTab:te,onClear:u,onBlur:M,onKeypress:w,onPaste:S,onFocus:se,openMenu:()=>o.$emit("open"),closeMenu:()=>o.$emit("close"),toggleMenu:()=>o.$emit("toggle")}):U("",!0),o.$slots["dp-input"]?U("",!0):(A(),V("input",{key:1,id:o.uid?`dp-input-${o.uid}`:void 0,ref_key:"inputRef",ref:R,"data-test":"dp-input",name:o.name,class:ke(T.value),inputmode:s(v).enabled?"text":"none",placeholder:o.placeholder,disabled:o.disabled,readonly:o.readonly,required:o.required,value:e.inputValue,autocomplete:o.autocomplete,"aria-label":(ae=s(p))==null?void 0:ae.input,"aria-disabled":o.disabled||void 0,"aria-invalid":o.state===!1?!0:void 0,onInput:q,onBlur:M,onFocus:se,onKeypress:w,onKeydown:w,onPaste:S},null,42,no)),fe("div",{onClick:E[2]||(E[2]=ie=>l("toggle"))},[o.$slots["input-icon"]&&!o.hideInputIcon?(A(),V("span",{key:0,class:"dp__input_icon",onClick:E[0]||(E[0]=ie=>l("toggle"))},[ue(o.$slots,"input-icon")])):U("",!0),!o.$slots["input-icon"]&&!o.hideInputIcon&&!o.$slots["dp-input"]?(A(),Ae(s(Ya),{key:1,class:"dp__input_icon dp__input_icons",onClick:E[1]||(E[1]=ie=>l("toggle"))})):U("",!0)]),o.$slots["clear-icon"]&&e.inputValue&&o.clearable&&!o.disabled&&!o.readonly?(A(),V("span",ro,[ue(o.$slots,"clear-icon",{clear:u})])):U("",!0),o.clearable&&!o.$slots["clear-icon"]&&e.inputValue&&!o.disabled&&!o.readonly?(A(),Ae(s(gl),{key:3,class:"dp__clear_icon dp__input_icons","data-test":"clear-icon",onClick:E[3]||(E[3]=Ka(ie=>u(ie),["prevent"]))})):U("",!0)])):U("",!0)])}}}),io=typeof window<"u"?window:void 0,Ot=()=>{},uo=e=>jl()?(Kl(e),!0):!1,so=(e,a,n,l)=>{if(!e)return Ot;let t=Ot;const v=ta(()=>s(e),b=>{t(),b&&(b.addEventListener(a,n,l),t=()=>{b.removeEventListener(a,n,l),t=Ot})},{immediate:!0,flush:"post"}),p=()=>{v(),t()};return uo(p),p},co=(e,a,n,l={})=>{const{window:t=io,event:v="pointerdown"}=l;return t?so(t,v,p=>{const b=Ne(e),c=Ne(a);!b||!c||b===p.target||p.composedPath().includes(b)||p.composedPath().includes(c)||n(p)},{passive:!0}):void 0},vo=Ye({compatConfig:{MODE:3},__name:"VueDatePicker",props:{...ct},emits:["update:model-value","update:model-timezone-value","text-submit","closed","cleared","open","focus","blur","internal-model-change","recalculate-position","flow-step","update-month-year","invalid-select","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","date-update","invalid-date","overlay-toggle"],setup(e,{expose:a,emit:n}){const l=n,t=e,v=Sa(),p=X(!1),b=ja(t,"modelValue"),c=ja(t,"timezone"),Y=X(null),y=X(null),h=X(null),f=X(!1),D=X(null),C=X(!1),k=X(!1),R=X(!1),K=X(!1),{setMenuFocused:ee,setShiftKey:T}=Rl(),{clearArrowNav:H}=ka(),{validateDate:Q,isValidTime:O}=wa(t),{defaultedTransitions:S,defaultedTextInput:ne,defaultedInline:q,defaultedConfig:N,defaultedRange:te,defaultedMultiDates:se}=Pe(t),{menuTransition:ce,showTransition:M}=Xa(S);He(()=>{x(t.modelValue),Qe().then(()=>{if(!q.value.enabled){const $=pe(D.value);$==null||$.addEventListener("scroll",z),window==null||window.addEventListener("resize",L)}}),q.value.enabled&&(p.value=!0),window==null||window.addEventListener("keyup",we),window==null||window.addEventListener("keydown",_)}),ut(()=>{if(!q.value.enabled){const $=pe(D.value);$==null||$.removeEventListener("scroll",z),window==null||window.removeEventListener("resize",L)}window==null||window.removeEventListener("keyup",we),window==null||window.removeEventListener("keydown",_)});const u=We(v,"all",t.presetDates),w=We(v,"input");ta([b,c],()=>{x(b.value)},{deep:!0});const{openOnTop:o,menuStyle:E,xCorrect:ae,setMenuPosition:ie,getScrollableParent:pe,shadowRender:m}=Wr({menuRef:Y,menuRefInner:y,inputRef:h,pickerWrapperRef:D,inline:q,emit:l,props:t,slots:v}),{inputValue:B,internalModelValue:r,parseExternalModelValue:x,emitModelValue:le,formatInputValue:d,checkBeforeEmit:re}=Hn(l,t,f),he=j(()=>({dp__main:!0,dp__theme_dark:t.dark,dp__theme_light:!t.dark,dp__flex_display:q.value.enabled,"dp--flex-display-collapsed":R.value,dp__flex_display_with_input:q.value.input})),P=j(()=>t.dark?"dp__theme_dark":"dp__theme_light"),ye=j(()=>t.teleport?{to:typeof t.teleport=="boolean"?"body":t.teleport,disabled:!t.teleport||q.value.enabled}:{}),i=j(()=>({class:"dp__outer_menu_wrap"})),I=j(()=>q.value.enabled&&(t.timePicker||t.monthPicker||t.yearPicker||t.quarterPicker)),J=()=>{var $,G;return(G=($=h.value)==null?void 0:$.$el)==null?void 0:G.getBoundingClientRect()},z=()=>{p.value&&(N.value.closeOnScroll?Xe():ie())},L=()=>{var $;p.value&&ie();const G=($=y.value)==null?void 0:$.$el.getBoundingClientRect().width;R.value=document.body.offsetWidth<=G},we=$=>{$.key==="Tab"&&!q.value.enabled&&!t.teleport&&N.value.tabOutClosesMenu&&(D.value.contains(document.activeElement)||Xe()),k.value=$.shiftKey},_=$=>{k.value=$.shiftKey},W=()=>{!t.disabled&&!t.readonly&&(m(sl,t),ie(!1),p.value=!0,p.value&&l("open"),p.value||Ea(),x(t.modelValue))},ve=()=>{var $;B.value="",Ea(),($=h.value)==null||$.setParsedDate(null),l("update:model-value",null),l("update:model-timezone-value",null),l("cleared"),N.value.closeOnClearValue&&Xe()},$e=()=>{const $=r.value;return!$||!Array.isArray($)&&Q($)?!0:Array.isArray($)?se.value.enabled||$.length===2&&Q($[0])&&Q($[1])?!0:te.value.partialRange&&!t.timePicker?Q($[0]):!1:!1},qe=()=>{re()&&$e()?(le(),Xe()):l("invalid-select",r.value)},de=$=>{ma(),le(),N.value.closeOnAutoApply&&!$&&Xe()},ma=()=>{h.value&&ne.value.enabled&&h.value.setParsedDate(r.value)},ia=($=!1)=>{t.autoApply&&O(r.value)&&$e()&&(te.value.enabled&&Array.isArray(r.value)?(te.value.partialRange||r.value.length===2)&&de($):de($))},Ea=()=>{ne.value.enabled||(r.value=null)},Xe=()=>{q.value.enabled||(p.value&&(p.value=!1,ae.value=!1,ee(!1),T(!1),H(),l("closed"),B.value&&x(b.value)),Ea(),l("blur"))},Fa=($,G,oe=!1)=>{if(!$){r.value=null;return}const je=Array.isArray($)?!$.some(Da=>!Q(Da)):Q($),ea=O($);je&&ea&&(K.value=!0,r.value=$,G&&(C.value=oe,qe(),l("text-submit")),Qe().then(()=>{K.value=!1}))},yt=()=>{t.autoApply&&O(r.value)&&le(),ma()},Qa=()=>p.value?Xe():W(),ft=$=>{r.value=$},ht=()=>{ne.value.enabled&&(f.value=!0,d()),l("focus")},gt=()=>{if(ne.value.enabled&&(f.value=!1,x(t.modelValue),C.value)){const $=fn(D.value,k.value);$==null||$.focus()}l("blur")},bt=$=>{y.value&&y.value.updateMonthYear(0,{month:tl($.month),year:tl($.year)})},_t=$=>{x($??t.modelValue)},kt=($,G)=>{var oe;(oe=y.value)==null||oe.switchView($,G)},g=$=>N.value.onClickOutside?N.value.onClickOutside($):Xe(),Z=($=0)=>{var G;(G=y.value)==null||G.handleFlow($)};return co(Y,h,()=>g($e)),a({closeMenu:Xe,selectDate:qe,clearValue:ve,openMenu:W,onScroll:z,formatInputValue:d,updateInternalModelValue:ft,setMonthYear:bt,parseModel:_t,switchView:kt,toggleMenu:Qa,handleFlow:Z}),($,G)=>(A(),V("div",{ref_key:"pickerWrapperRef",ref:D,class:ke(he.value),"data-datepicker-instance":""},[la(oo,Le({ref_key:"inputRef",ref:h,"input-value":s(B),"onUpdate:inputValue":G[0]||(G[0]=oe=>Gt(B)?B.value=oe:null),"is-menu-open":p.value},$.$props,{onClear:ve,onOpen:W,onSetInputDate:Fa,onSetEmptyDate:s(le),onSelectDate:qe,onToggle:Qa,onClose:Xe,onFocus:ht,onBlur:gt,onRealBlur:G[1]||(G[1]=oe=>f.value=!1)}),ze({_:2},[Me(s(w),(oe,je)=>({name:oe,fn:ge(ea=>[ue($.$slots,oe,Be(Je(ea)))])}))]),1040,["input-value","is-menu-open","onSetEmptyDate"]),(A(),Ae(st($.teleport?Fl:"div"),Be(Je(ye.value)),{default:ge(()=>[la(La,{name:s(ce)(s(o)),css:s(M)&&!s(q).enabled},{default:ge(()=>[p.value?(A(),V("div",Le({key:0,ref_key:"dpWrapMenuRef",ref:Y},i.value,{class:{"dp--menu-wrapper":!s(q).enabled},style:s(q).enabled?void 0:s(E)}),[la(sl,Le({ref_key:"dpMenuRef",ref:y},$.$props,{"internal-model-value":s(r),"onUpdate:internalModelValue":G[2]||(G[2]=oe=>Gt(r)?r.value=oe:null),class:{[P.value]:!0,"dp--menu-wrapper":$.teleport},"open-on-top":s(o),"no-overlay-focus":I.value,collapse:R.value,"get-input-rect":J,"is-text-input-date":K.value,onClosePicker:Xe,onSelectDate:qe,onAutoApply:ia,onTimeUpdate:yt,onFlowStep:G[3]||(G[3]=oe=>$.$emit("flow-step",oe)),onUpdateMonthYear:G[4]||(G[4]=oe=>$.$emit("update-month-year",oe)),onInvalidSelect:G[5]||(G[5]=oe=>$.$emit("invalid-select",s(r))),onAutoApplyInvalid:G[6]||(G[6]=oe=>$.$emit("invalid-select",oe)),onInvalidFixedRange:G[7]||(G[7]=oe=>$.$emit("invalid-fixed-range",oe)),onRecalculatePosition:s(ie),onTooltipOpen:G[8]||(G[8]=oe=>$.$emit("tooltip-open",oe)),onTooltipClose:G[9]||(G[9]=oe=>$.$emit("tooltip-close",oe)),onTimePickerOpen:G[10]||(G[10]=oe=>$.$emit("time-picker-open",oe)),onTimePickerClose:G[11]||(G[11]=oe=>$.$emit("time-picker-close",oe)),onAmPmChange:G[12]||(G[12]=oe=>$.$emit("am-pm-change",oe)),onRangeStart:G[13]||(G[13]=oe=>$.$emit("range-start",oe)),onRangeEnd:G[14]||(G[14]=oe=>$.$emit("range-end",oe)),onDateUpdate:G[15]||(G[15]=oe=>$.$emit("date-update",oe)),onInvalidDate:G[16]||(G[16]=oe=>$.$emit("invalid-date",oe)),onOverlayToggle:G[17]||(G[17]=oe=>$.$emit("overlay-toggle",oe))}),ze({_:2},[Me(s(u),(oe,je)=>({name:oe,fn:ge(ea=>[ue($.$slots,oe,Be(Je({...ea})))])}))]),1040,["internal-model-value","class","open-on-top","no-overlay-focus","collapse","is-text-input-date","onRecalculatePosition"])],16)):U("",!0)]),_:3},8,["name","css"])]),_:3},16))],2))}}),Yl=(()=>{const e=vo;return e.install=a=>{a.component("Vue3DatePicker",e)},e})(),po=Object.freeze(Object.defineProperty({__proto__:null,default:Yl},Symbol.toStringTag,{value:"Module"}));Object.entries(po).forEach(([e,a])=>{e!=="default"&&(Yl[e]=a)});export{Yl as H};
